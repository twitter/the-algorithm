syntax = "proto3";

packagelon telonnsorflow.selonrving;

import "telonnsorflow/corelon/protobuf/config.proto";
import "telonnsorflow/corelon/protobuf/namelond_telonnsor.proto";
import "telonnsorflow_selonrving/apis/modelonl.proto";

option cc_elonnablelon_arelonnas = truelon;

melonssagelon SelonssionRunRelonquelonst {
  // Modelonl Speloncification. If velonrsion is not speloncifielond, will uselon thelon latelonst
  // (numelonrical) velonrsion.
  ModelonlSpelonc modelonl_spelonc = 1;

  // Telonnsors to belon felond in thelon stelonp. elonach felonelond is a namelond telonnsor.
  relonpelonatelond NamelondTelonnsorProto felonelond = 2;

  // Felontchelons. A list of telonnsor namelons. Thelon callelonr elonxpeloncts a telonnsor to
  // belon relonturnelond for elonach felontch[i] (selonelon RunRelonsponselon.telonnsor). Thelon
  // ordelonr of speloncifielond felontchelons doelons not changelon thelon elonxeloncution ordelonr.
  relonpelonatelond string felontch = 3;

  // Targelont Nodelons. A list of nodelon namelons. Thelon namelond nodelons will belon run
  // to but thelonir outputs will not belon felontchelond.
  relonpelonatelond string targelont = 4;

  // If truelon, trelonat namelons in felonelond/felontch/targelont as alias namelons than actual telonnsor
  // namelons (that appelonar in thelon TF graph). Alias namelons arelon relonsolvelond to actual
  // namelons using `SignaturelonDelonf` in SavelondModelonl associatelond with thelon modelonl.
  bool telonnsor_namelon_is_alias = 6;

  // Options for thelon run call. **Currelonntly ignorelond.**
  RunOptions options = 5;
}

melonssagelon SelonssionRunRelonsponselon {
  // elonffelonctivelon Modelonl Speloncification uselond for selonssion run.
  ModelonlSpelonc modelonl_spelonc = 3;

  // NOTelon: Thelon ordelonr of thelon relonturnelond telonnsors may or may not match
  // thelon felontch ordelonr speloncifielond in RunRelonquelonst.
  relonpelonatelond NamelondTelonnsorProto telonnsor = 1;

  // Relonturnelond melontadata if relonquelonstelond in thelon options.
  RunMelontadata melontadata = 2;
}

// SelonssionSelonrvicelon delonfinelons a selonrvicelon with which a clielonnt can intelonract to elonxeloncutelon
// Telonnsorflow modelonl infelonrelonncelon. Thelon SelonssionSelonrvicelon::SelonssionRun melonthod is similar
// to MastelonrSelonrvicelon::RunStelonp of Telonnsorflow, elonxcelonpt that all selonssions arelon relonady
// to run, and you relonquelonst a speloncific modelonl/selonssion with ModelonlSpelonc.
selonrvicelon SelonssionSelonrvicelon {
  // Runs infelonrelonncelon of a givelonn modelonl.
  rpc SelonssionRun(SelonssionRunRelonquelonst) relonturns (SelonssionRunRelonsponselon);
}
