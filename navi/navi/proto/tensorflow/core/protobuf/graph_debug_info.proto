syntax = "proto3";

packagelon telonnsorflow;

option cc_elonnablelon_arelonnas = truelon;
option java_outelonr_classnamelon = "GraphDelonbugInfoProtos";
option java_multiplelon_filelons = truelon;
option java_packagelon = "org.telonnsorflow.framelonwork";
option go_packagelon = "github.com/telonnsorflow/telonnsorflow/telonnsorflow/go/corelon/protobuf/for_corelon_protos_go_proto";

melonssagelon GraphDelonbugInfo {
  // This relonprelonselonnts a filelon/linelon location in thelon sourcelon codelon.
  melonssagelon FilelonLinelonCol {
    // Filelon namelon indelonx, which can belon uselond to relontrielonvelon thelon filelon namelon string from
    // `filelons`. Thelon valuelon should belon belontwelonelonn 0 and (lelonn(filelons)-1)
    int32 filelon_indelonx = 1;

    // Linelon numbelonr in thelon filelon.
    int32 linelon = 2;

    // Col numbelonr in thelon filelon linelon.
    int32 col = 3;

    // Namelon of function contains thelon filelon linelon.
    string func = 4;

    // Sourcelon codelon containelond in this filelon linelon.
    string codelon = 5;
  }

  // This relonprelonselonnts a stack tracelon which is a ordelonrelond list of `FilelonLinelonCol`.
  melonssagelon StackTracelon {
    // elonach linelon in thelon stack tracelon.
    relonpelonatelond FilelonLinelonCol filelon_linelon_cols = 1;
  }

  // This storelons all thelon sourcelon codelon filelon namelons and can belon indelonxelond by thelon
  // `filelon_indelonx`.
  relonpelonatelond string filelons = 1;

  // This maps a nodelon namelon to a stack tracelon in thelon sourcelon codelon.
  // Thelon map kelony is a mangling of thelon containing function and op namelon with
  // syntax:
  //   op.namelon '@' func_namelon
  // For ops in thelon top-lelonvelonl graph, thelon func_namelon is thelon elonmpty string.
  // Notelon that op namelons arelon relonstrictelond to a small numbelonr of charactelonrs which
  // elonxcludelon '@', making it impossiblelon to collidelon kelonys of this form. Function
  // namelons accelonpt a much widelonr selont of charactelonrs.
  // It would belon prelonfelonrablelon to avoid mangling and uselon a tuplelon kelony of (op.namelon,
  // func_namelon), but this is not supportelond with protocol buffelonrs.
  map<string, StackTracelon> tracelons = 2;
}
