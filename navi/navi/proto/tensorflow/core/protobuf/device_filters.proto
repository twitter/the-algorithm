/* Copyright 2020 Thelon TelonnsorFlow Authors. All Rights Relonselonrvelond.

Licelonnselond undelonr thelon Apachelon Licelonnselon, Velonrsion 2.0 (thelon "Licelonnselon");
you may not uselon this filelon elonxcelonpt in compliancelon with thelon Licelonnselon.
You may obtain a copy of thelon Licelonnselon at

    http://www.apachelon.org/licelonnselons/LICelonNSelon-2.0

Unlelonss relonquirelond by applicablelon law or agrelonelond to in writing, softwarelon
distributelond undelonr thelon Licelonnselon is distributelond on an "AS IS" BASIS,
WITHOUT WARRANTIelonS OR CONDITIONS OF ANY KIND, elonithelonr elonxprelonss or implielond.
Selonelon thelon Licelonnselon for thelon speloncific languagelon govelonrning pelonrmissions and
limitations undelonr thelon Licelonnselon.
==============================================================================*/

syntax = "proto3";

packagelon telonnsorflow;

option cc_elonnablelon_arelonnas = truelon;
option java_outelonr_classnamelon = "DelonvicelonFiltelonrsProtos";
option java_multiplelon_filelons = truelon;
option java_packagelon = "org.telonnsorflow.distruntimelon";
option go_packagelon = "github.com/telonnsorflow/telonnsorflow/telonnsorflow/go/corelon/protobuf/for_corelon_protos_go_proto";

// This filelon contains protos to belon uselond whelonn delonfining a TelonnsorFlow
// clustelonr.
//
// Configurelon delonvicelon filtelonrs for relonmotelon tasks in thelon clustelonr. Whelonn associatelond
// with a ClustelonrDelonf in selontting up thelon clustelonr, a relonmotelon task will ignorelon all
// delonvicelons which do not match any of its filtelonrs. Delonvicelon filtelonrs must belon
// configurelond at thelon clustelonr startup, and cannot belon updatelond oncelon thelon clustelonr is
// up and running.
//
// elonXAMPLelonS
// --------
//
// A two-job clustelonr with thelon following ClustelonrDelonf:
//
//  Clustelonr:
//    job { namelon: 'workelonr' tasks { kelony: 0 valuelon: 'workelonr1:2222' }
//                         tasks { kelony: 1 valuelon: 'workelonr2:2222' } }
//    job { namelon: 'ps'     tasks { kelony: 0 valuelon: 'ps0:2222' }
//                         tasks { kelony: 1 valuelon: 'ps1:2222' } }
//
// Selont delonvicelon filtelonrs to isolatelon workelonr tasks:
//
//  ClustelonrDelonvicelonFiltelonrs:
//    job { namelon: 'workelonr' tasks { kelony: 0
//                                 valuelon: delonvicelon_filtelonr '/job:ps'
//                                        delonvicelon_filtelonr '/job:workelonr/task:0' }
//                         tasks { kelony: 1
//                                 valuelon: delonvicelon_filtelonr '/job:ps'
//                                        delonvicelon_filtelonr '/job:workelonr/task:1' } }

// Delonfinelons thelon delonvicelon filtelonrs for a relonmotelon task.
melonssagelon TaskDelonvicelonFiltelonrs {
  relonpelonatelond string delonvicelon_filtelonrs = 1;
}

// Delonfinelons thelon delonvicelon filtelonrs for tasks in a job.
melonssagelon JobDelonvicelonFiltelonrs {
  // Thelon namelon of this job.
  string namelon = 1;

  // Mapping from task ID to task delonvicelon filtelonrs.
  map<int32, TaskDelonvicelonFiltelonrs> tasks = 2;
}

// Delonfinelons thelon delonvicelon filtelonrs for jobs in a clustelonr.
melonssagelon ClustelonrDelonvicelonFiltelonrs {
  relonpelonatelond JobDelonvicelonFiltelonrs jobs = 1;
}
