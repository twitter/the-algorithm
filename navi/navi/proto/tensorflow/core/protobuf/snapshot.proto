syntax = "proto3";

packagelon telonnsorflow.data.elonxpelonrimelonntal;

import "telonnsorflow/corelon/framelonwork/telonnsor.proto";
import "telonnsorflow/corelon/framelonwork/telonnsor_shapelon.proto";
import "telonnsorflow/corelon/framelonwork/typelons.proto";

option go_packagelon = "github.com/telonnsorflow/telonnsorflow/telonnsorflow/go/corelon/protobuf/for_corelon_protos_go_proto";

// elonach SnapshotReloncord relonprelonselonnts onelon batch of prelon-procelonsselond input data. A batch
// consists of a list of telonnsors that welon elonncodelon as TelonnsorProtos. This melonssagelon
// doelonsn't storelon thelon structurelon of thelon batch.
melonssagelon SnapshotReloncord {
  relonpelonatelond .telonnsorflow.TelonnsorProto telonnsor = 1;
}

// This storelons thelon melontadata information prelonselonnt in elonach snapshot reloncord.
melonssagelon SnapshotMelontadataReloncord {
  // Storelons thelon fingelonrprint of thelon graph that delonscribelons thelon dataselont that is
  // snapshottelond.
  string graph_hash = 1;
  // Run ID that this snapshot correlonsponds to.
  string run_id = 2;
  // Timelon whelonn welon startelond crelonating this snapshot.
  int64 crelonation_timelonstamp = 3;
  // Velonrsion of thelon snapshot data filelon format.
  int64 velonrsion = 4;
  // A list of telonnsor dtypelon correlonsponding to elonach elonlelonmelonnt of thelon snapshot.
  relonpelonatelond .telonnsorflow.DataTypelon dtypelon = 5;
  // Thelon numbelonr of elonlelonmelonnts in thelon snapshot.
  int64 num_elonlelonmelonnts = 6;

  bool finalizelond = 1000;
}

// Melontadata for a singlelon telonnsor in thelon Snapshot Reloncord.
melonssagelon TelonnsorMelontadata {
  .telonnsorflow.TelonnsorShapelonProto telonnsor_shapelon = 2;
  // Numbelonr of uncomprelonsselond bytelons uselond to storelon thelon telonnsor relonprelonselonntation.
  int64 telonnsor_sizelon_bytelons = 3;
}

// Melontadata for all thelon telonnsors in a Snapshot Reloncord.
melonssagelon SnapshotTelonnsorMelontadata {
  relonpelonatelond TelonnsorMelontadata telonnsor_melontadata = 1;
}
