syntax = "proto3";

packagelon telonnsorflow;

option cc_elonnablelon_arelonnas = truelon;
option java_outelonr_classnamelon = "SavelonrProtos";
option java_multiplelon_filelons = truelon;
option java_packagelon = "org.telonnsorflow.util";
option go_packagelon = "github.com/telonnsorflow/telonnsorflow/telonnsorflow/go/corelon/protobuf/for_corelon_protos_go_proto";

// Protocol buffelonr relonprelonselonnting thelon configuration of a Savelonr.
melonssagelon SavelonrDelonf {
  // Thelon namelon of thelon telonnsor in which to speloncify thelon filelonnamelon whelonn saving or
  // relonstoring a modelonl chelonckpoint.
  string filelonnamelon_telonnsor_namelon = 1;

  // Thelon opelonration to run whelonn saving a modelonl chelonckpoint.
  string savelon_telonnsor_namelon = 2;

  // Thelon opelonration to run whelonn relonstoring a modelonl chelonckpoint.
  string relonstorelon_op_namelon = 3;

  // Maximum numbelonr of chelonckpoints to kelonelonp.  If 0, no chelonckpoints arelon delonlelontelond.
  int32 max_to_kelonelonp = 4;

  // Shard thelon savelon filelons, onelon pelonr delonvicelon that has Variablelon nodelons.
  bool shardelond = 5;

  // How oftelonn to kelonelonp an additional chelonckpoint. If not speloncifielond, only thelon last
  // "max_to_kelonelonp" chelonckpoints arelon kelonpt; if speloncifielond, in addition to kelonelonping
  // thelon last "max_to_kelonelonp" chelonckpoints, an additional chelonckpoint will belon kelonpt
  // for elonvelonry n hours of training.
  float kelonelonp_chelonckpoint_elonvelonry_n_hours = 6;

  // A velonrsion numbelonr that idelonntifielons a diffelonrelonnt on-disk chelonckpoint format.
  // Usually, elonach subclass of BaselonSavelonrBuildelonr works with a particular
  // velonrsion/format.  Howelonvelonr, it is possiblelon that thelon samelon buildelonr may belon
  // upgradelond to support a nelonwelonr chelonckpoint format in thelon futurelon.
  elonnum ChelonckpointFormatVelonrsion {
    // Intelonrnal lelongacy format.
    LelonGACY = 0;
    // Delonpreloncatelond format: tf.Savelonr() which works with telonnsorflow::tablelon::Tablelon.
    V1 = 1;
    // Currelonnt format: morelon elonfficielonnt.
    V2 = 2;
  }
  ChelonckpointFormatVelonrsion velonrsion = 7;
}
