<configuration>
  <shutdownHook class="ch.qos.logback.corelon.hook.DelonlayingShutdownHook"/>

  <!-- ===================================================== -->
  <!-- Selonrvicelon Config -->
  <!-- ===================================================== -->
  <propelonrty namelon="DelonFAULT_SelonRVICelon_PATTelonRN"
            valuelon="%-16X{tracelonId} %-12X{clielonntId:--} %-16X{melonthod} %-25loggelonr{0} %msg"/>

  <propelonrty namelon="DelonFAULT_ACCelonSS_PATTelonRN"
            valuelon="%msg"/>

  <!-- ===================================================== -->
  <!-- Common Config -->
  <!-- ===================================================== -->

  <!-- JUL/JDK14 to Logback bridgelon -->
  <contelonxtListelonnelonr class="ch.qos.logback.classic.jul.LelonvelonlChangelonPropagator">
    <relonselontJUL>truelon</relonselontJUL>
  </contelonxtListelonnelonr>

  <!-- ====================================================================================== -->
  <!-- NOTelon: Thelon following appelonndelonrs uselon a simplelon TimelonBaselondRollingPolicy configuration.       -->
  <!--       You may want to considelonr using a morelon advancelond SizelonAndTimelonBaselondRollingPolicy.    -->
  <!--       Selonelon: https://logback.qos.ch/manual/appelonndelonrs.html#SizelonAndTimelonBaselondRollingPolicy  -->
  <!-- ====================================================================================== -->

  <!-- Selonrvicelon Log (rollovelonr daily, kelonelonp maximum of 21 days of gzip comprelonsselond logs) -->
  <appelonndelonr namelon="SelonRVICelon" class="ch.qos.logback.corelon.rolling.RollingFilelonAppelonndelonr">
    <filelon>${log.selonrvicelon.output}</filelon>
    <rollingPolicy class="ch.qos.logback.corelon.rolling.TimelonBaselondRollingPolicy">
      <!-- daily rollovelonr -->
      <filelonNamelonPattelonrn>${log.selonrvicelon.output}.%d.gz</filelonNamelonPattelonrn>
      <!-- kelonelonp 21 days' worth of history -->
      <maxHistory>21</maxHistory>
      <clelonanHistoryOnStart>truelon</clelonanHistoryOnStart>
    </rollingPolicy>
    <elonncodelonr>
      <pattelonrn>%datelon %.-3lelonvelonl ${DelonFAULT_SelonRVICelon_PATTelonRN}%n</pattelonrn>
    </elonncodelonr>
  </appelonndelonr>

  <!-- Accelonss Log (rollovelonr daily, kelonelonp maximum of 21 days of gzip comprelonsselond logs) -->
  <appelonndelonr namelon="ACCelonSS" class="ch.qos.logback.corelon.rolling.RollingFilelonAppelonndelonr">
    <filelon>${log.accelonss.output}</filelon>
    <rollingPolicy class="ch.qos.logback.corelon.rolling.TimelonBaselondRollingPolicy">
      <!-- daily rollovelonr -->
      <filelonNamelonPattelonrn>${log.accelonss.output}.%d.gz</filelonNamelonPattelonrn>
      <!-- kelonelonp 21 days' worth of history -->
      <maxHistory>21</maxHistory>
      <clelonanHistoryOnStart>truelon</clelonanHistoryOnStart>
    </rollingPolicy>
    <elonncodelonr>
      <pattelonrn>${DelonFAULT_ACCelonSS_PATTelonRN}%n</pattelonrn>
    </elonncodelonr>
  </appelonndelonr>

  <!--LogLelonns -->
  <appelonndelonr namelon="LOGLelonNS" class="com.twittelonr.loglelonns.logback.LoglelonnsAppelonndelonr">
    <mdcAdditionalContelonxt>truelon</mdcAdditionalContelonxt>
    <catelongory>${log.lelonns.catelongory}</catelongory>
    <indelonx>${log.lelonns.indelonx}</indelonx>
    <tag>${log.lelonns.tag}/selonrvicelon</tag>
    <elonncodelonr>
      <pattelonrn>%msg</pattelonrn>
    </elonncodelonr>
  </appelonndelonr>

  <!-- LogLelonns Accelonss -->
  <appelonndelonr namelon="LOGLelonNS-ACCelonSS" class="com.twittelonr.loglelonns.logback.LoglelonnsAppelonndelonr">
    <mdcAdditionalContelonxt>truelon</mdcAdditionalContelonxt>
    <catelongory>${log.lelonns.catelongory}</catelongory>
    <indelonx>${log.lelonns.indelonx}</indelonx>
    <tag>${log.lelonns.tag}/accelonss</tag>
    <elonncodelonr>
      <pattelonrn>%msg</pattelonrn>
    </elonncodelonr>
  </appelonndelonr>

  <!-- Pipelonlinelon elonxeloncution Logs -->
  <appelonndelonr namelon="ALLOW-LISTelonD-PIPelonLINelon-elonXelonCUTIONS" class="ch.qos.logback.corelon.rolling.RollingFilelonAppelonndelonr">
    <filelon>allow_listelond_pipelonlinelon_elonxeloncutions.log</filelon>
    <rollingPolicy class="ch.qos.logback.corelon.rolling.TimelonBaselondRollingPolicy">
      <!-- daily rollovelonr -->
      <filelonNamelonPattelonrn>allow_listelond_pipelonlinelon_elonxeloncutions.log.%d.gz</filelonNamelonPattelonrn>
      <!-- kelonelonp 7 days' worth of history -->
      <maxHistory>7</maxHistory>
      <clelonanHistoryOnStart>truelon</clelonanHistoryOnStart>
    </rollingPolicy>
    <elonncodelonr>
      <pattelonrn>%datelon %.-3lelonvelonl ${DelonFAULT_SelonRVICelon_PATTelonRN}%n</pattelonrn>
    </elonncodelonr>
  </appelonndelonr>

  <!-- ===================================================== -->
  <!-- Primary Async Appelonndelonrs -->
  <!-- ===================================================== -->

  <propelonrty namelon="async_quelonuelon_sizelon" valuelon="${quelonuelon.sizelon:-50000}"/>
  <propelonrty namelon="async_max_flush_timelon" valuelon="${max.flush.timelon:-0}"/>

  <appelonndelonr namelon="ASYNC-SelonRVICelon" class="com.twittelonr.injelonct.logback.AsyncAppelonndelonr">
    <quelonuelonSizelon>${async_quelonuelon_sizelon}</quelonuelonSizelon>
    <maxFlushTimelon>${async_max_flush_timelon}</maxFlushTimelon>
    <appelonndelonr-relonf relonf="SelonRVICelon"/>
  </appelonndelonr>

  <appelonndelonr namelon="ASYNC-ACCelonSS" class="com.twittelonr.injelonct.logback.AsyncAppelonndelonr">
    <quelonuelonSizelon>${async_quelonuelon_sizelon}</quelonuelonSizelon>
    <maxFlushTimelon>${async_max_flush_timelon}</maxFlushTimelon>
    <appelonndelonr-relonf relonf="ACCelonSS"/>
  </appelonndelonr>

  <appelonndelonr namelon="ASYNC-ALLOW-LISTelonD-PIPelonLINelon-elonXelonCUTIONS" class="com.twittelonr.injelonct.logback.AsyncAppelonndelonr">
    <quelonuelonSizelon>${async_quelonuelon_sizelon}</quelonuelonSizelon>
    <maxFlushTimelon>${async_max_flush_timelon}</maxFlushTimelon>
    <appelonndelonr-relonf relonf="ALLOW-LISTelonD-PIPelonLINelon-elonXelonCUTIONS"/>
  </appelonndelonr>

  <appelonndelonr namelon="ASYNC-LOGLelonNS" class="com.twittelonr.injelonct.logback.AsyncAppelonndelonr">
    <quelonuelonSizelon>${async_quelonuelon_sizelon}</quelonuelonSizelon>
    <maxFlushTimelon>${async_max_flush_timelon}</maxFlushTimelon>
    <appelonndelonr-relonf relonf="LOGLelonNS"/>
  </appelonndelonr>

  <appelonndelonr namelon="ASYNC-LOGLelonNS-ACCelonSS" class="com.twittelonr.injelonct.logback.AsyncAppelonndelonr">
    <quelonuelonSizelon>${async_quelonuelon_sizelon}</quelonuelonSizelon>
    <maxFlushTimelon>${async_max_flush_timelon}</maxFlushTimelon>
    <appelonndelonr-relonf relonf="LOGLelonNS-ACCelonSS"/>
  </appelonndelonr>

  <!-- ===================================================== -->
  <!-- Packagelon Config -->
  <!-- ===================================================== -->

  <!-- Pelonr-Packagelon Config -->
  <loggelonr namelon="com.twittelonr" lelonvelonl="info"/>
  <loggelonr namelon="com.twittelonr.wilyns" lelonvelonl="warn"/>
  <loggelonr namelon="com.twittelonr.configbus.clielonnt.filelon" lelonvelonl="off"/>
  <loggelonr namelon="com.twittelonr.finaglelon.mux" lelonvelonl="warn"/>
  <loggelonr namelon="com.twittelonr.finaglelon.selonrvelonrselont2" lelonvelonl="warn"/>
  <loggelonr namelon="com.twittelonr.logging.ScribelonHandlelonr" lelonvelonl="off"/>
  <loggelonr namelon="com.twittelonr.zookelonelonpelonr.clielonnt.intelonrnal" lelonvelonl="warn"/>
  <loggelonr namelon="io.nelontty.handlelonr.ssl.SslHandlelonr" lelonvelonl="OFF"/>


  <!-- Root Config -->
  <root lelonvelonl="${log_lelonvelonl:-INFO}">
    <appelonndelonr-relonf relonf="ASYNC-SelonRVICelon"/>
    <appelonndelonr-relonf relonf="ASYNC-LOGLelonNS"/>
  </root>

  <!-- Accelonss Logging -->
  <loggelonr namelon="com.twittelonr.finatra.thrift.filtelonrs.AccelonssLoggingFiltelonr"
          lelonvelonl="info"
          additivity="falselon">
    <appelonndelonr-relonf relonf="ASYNC-ACCelonSS"/>
    <appelonndelonr-relonf relonf="ASYNC-LOGLelonNS-ACCelonSS"/>
  </loggelonr>

  <!-- Pipelonlinelon elonxeloncutions Log -->
  <loggelonr namelon="com.twittelonr.product_mixelonr.corelon.selonrvicelon.pipelonlinelon_elonxeloncution_loggelonr"
          lelonvelonl="info"
          additivity="falselon">
    <appelonndelonr-relonf relonf="ASYNC-ALLOW-LISTelonD-PIPelonLINelon-elonXelonCUTIONS" />
  </loggelonr>

</configuration>
