package com.twittew.seawch.common.schema.eawwybiwd;

impowt java.utiw.map;

i-impowt c-com.googwe.common.annotations.visibwefowtesting;
i-impowt com.googwe.common.base.pweconditions;
i-impowt com.googwe.common.cowwect.maps;

i-impowt com.twittew.common.text.utiw.tokenstweamsewiawizew;
i-impowt com.twittew.seawch.common.metwics.seawchcountew;
i-impowt c-com.twittew.seawch.common.schema.anawyzewfactowy;
impowt com.twittew.seawch.common.schema.dynamicschema;
impowt com.twittew.seawch.common.schema.immutabweschema;
impowt com.twittew.seawch.common.schema.schemabuiwdew;
i-impowt com.twittew.seawch.common.schema.base.featuweconfiguwation;
impowt c-com.twittew.seawch.common.schema.base.schema;
impowt com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant;
i-impowt com.twittew.seawch.common.schema.thwiftjava.thwiftcsftype;
impowt com.twittew.seawch.common.schema.thwiftjava.thwiftfeatuweupdateconstwaint;
impowt com.twittew.seawch.common.schema.thwiftjava.thwiftschema;

i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.bwink_favowite_count;
i-impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.bwink_quote_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.bwink_wepwy_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.bwink_wetweet_count;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.composew_souwce_is_camewa_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.decayed_favowite_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.decayed_quote_count;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.decayed_wepwy_count;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.decayed_wetweet_count;
i-impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.embeds_impwession_count;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.embeds_impwession_count_v2;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.embeds_uww_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.embeds_uww_count_v2;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.expewimentaw_heawth_modew_scowe_1;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.expewimentaw_heawth_modew_scowe_2;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.expewimentaw_heawth_modew_scowe_3;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.expewimentaw_heawth_modew_scowe_4;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_featuwe_unused_bits_0_24_8;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_12_30_2;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_13_30_2;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_14_10_22;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_16;
i-impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_17;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_18;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_19;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_20;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_4_31_1;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.extended_test_featuwe_unused_bits_7_6_26;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.fake_favowite_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.fake_quote_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.fake_wepwy_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.fake_wetweet_count;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.favowite_count;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.favowite_count_v2;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.fwom_bwue_vewified_account_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.fwom_vewified_account_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_cawd_fwag;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_consumew_video_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_expando_cawd_fwag;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_image_uww_fwag;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_wink_fwag;
i-impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_muwtipwe_hashtags_ow_twends_fwag;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_muwtipwe_media_fwag;
i-impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_native_image_fwag;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_news_uww_fwag;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_pewiscope_fwag;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_pwo_video_fwag;
i-impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_quote_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_twend_fwag;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_video_uww_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_vine_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.has_visibwe_wink_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_nuwwcast_fwag;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_offensive_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_wepwy_fwag;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_wetweet_fwag;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_sensitive_content;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_twending_now_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_usew_bot_fwag;
i-impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_usew_new_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_usew_nsfw_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.is_usew_spam_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wabew_abusive_fwag;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wabew_abusive_hi_wcw_fwag;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wabew_dup_content_fwag;
i-impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wabew_nsfw_hi_pwc_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wabew_nsfw_hi_wcw_fwag;
i-impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wabew_spam_fwag;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wabew_spam_hi_wcw_fwag;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wanguage;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wast_favowite_since_cweation_hws;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wast_quote_since_cweation_hws;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wast_wepwy_since_cweation_hws;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wast_wetweet_since_cweation_hws;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wink_wanguage;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.nowmawized_favowite_count_gweatew_than_ow_equaw_to_fiewd;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.nowmawized_wepwy_count_gweatew_than_ow_equaw_to_fiewd;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.nowmawized_wetweet_count_gweatew_than_ow_equaw_to_fiewd;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.num_hashtags;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.num_hashtags_v2;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.num_mentions;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.num_mentions_v2;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.num_stocks;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.pawus_scowe;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.pbwock_scowe;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.pewiscope_exists;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.pewiscope_has_been_featuwed;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.pewiscope_is_cuwwentwy_featuwed;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.pewiscope_is_fwom_quawity_souwce;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.pewiscope_is_wive;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.pwev_usew_tweet_engagement;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.pwofiwe_is_egg_fwag;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.p_wepowted_tweet_scowe;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.p_spammy_tweet_scowe;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.quote_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wefewence_authow_id_weast_significant_int;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wefewence_authow_id_most_significant_int;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wepwy_count;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wepwy_count_v2;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wetweet_count;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.wetweet_count_v2;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.spammy_tweet_content_scowe;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.text_scowe;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.toxicity_scowe;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.tweet_signatuwe;
impowt s-static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.usew_weputation;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.video_view_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.video_view_count_v2;
i-impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.visibwe_token_watio;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.weighted_favowite_count;
impowt static com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.weighted_quote_count;
impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.weighted_wepwy_count;
i-impowt static c-com.twittew.seawch.common.schema.eawwybiwd.eawwybiwdfiewdconstants.eawwybiwdfiewdconstant.weighted_wetweet_count;

/**
 * f-fiewd configuwations f-fow eawwybiwd. rawr
 */
pubwic finaw cwass eawwybiwdschemacweatetoow {
  // how many times a schema is buiwt
  pwivate s-static finaw seawchcountew schema_buiwd_count =
      s-seawchcountew.expowt("schema_buiwd_count");

  // nyumbew o-of integews fow the cowumn of e-encoded_tweet_featuwes_fiewd.
  @visibwefowtesting
  pubwic static f-finaw int nyumbew_of_integews_fow_featuwes = 5;

  // n-nyumbew o-of integews fow t-the cowumn of extended_encoded_tweet_featuwes_fiewd.
  // e-extwa 80 bytes
  // in weawtime cwustew, assuming 19 segments totaw, ^•ﻌ•^ and 8388608 docs pew segment
  // t-this wouwd amount t-to about 12.75gb o-of memowy nyeeded
  //
  @visibwefowtesting
  pubwic static f-finaw int nyumbew_of_integews_fow_extended_featuwes = 20;

  @visibwefowtesting
  pubwic static finaw map<stwing, σωσ featuweconfiguwation> f-featuwe_configuwation_map
      = m-maps.newwinkedhashmap();

  pubwic static f-finaw stwing base_fiewd_name =
      eawwybiwdfiewdconstant.encoded_tweet_featuwes_fiewd.getfiewdname();

  p-pwivate static s-stwing getbasefiewdname(stwing fuwwname) {
    int index = fuwwname.indexof(schemabuiwdew.csf_view_name_sepawatow);
    p-pweconditions.checkawgument(index > 0);
    w-wetuwn fuwwname.substwing(0, :3 index);
  }

  pwivate static stwing getbasefiewdname(eawwybiwdfiewdconstant fiewdconstant) {
    w-wetuwn getbasefiewdname(fiewdconstant.getfiewdname());
  }

  p-pwivate static s-stwing getfeatuwenameinfiewd(eawwybiwdfiewdconstant f-fiewdconstant) {
    i-int index = fiewdconstant.getfiewdname().indexof(schemabuiwdew.csf_view_name_sepawatow);
    p-pweconditions.checkawgument(index > 0);
    w-wetuwn fiewdconstant.getfiewdname().substwing(index + 1);
  }

  // defining aww f-featuwes
  static {
    // a-add individuaw tweet e-encoded featuwes as views on top of
    // eawwybiwdfiewdconstant.encoded_tweet_featuwes_fiewd

    // i-int intindex, int bitstawtpos, rawr x3 i-int bitwength
    n-nyeweawwybiwdfeatuweconfiguwation(is_wetweet_fwag, nyaa~~ thwiftcsftype.boowean, :3 0, 0, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(is_offensive_fwag, >w< thwiftcsftype.boowean, rawr 0, 1, 😳 1);
    nyeweawwybiwdfeatuweconfiguwation(has_wink_fwag, 😳 t-thwiftcsftype.boowean, 🥺 0, 2, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(has_twend_fwag, rawr x3 t-thwiftcsftype.boowean, 0, ^^ 3, 1);
    nyeweawwybiwdfeatuweconfiguwation(is_wepwy_fwag, ( ͡o ω ͡o ) thwiftcsftype.boowean, XD 0, 4, 1);
    nyeweawwybiwdfeatuweconfiguwation(is_sensitive_content, ^^ t-thwiftcsftype.boowean, (⑅˘꒳˘) 0, 5, 1);
    nyeweawwybiwdfeatuweconfiguwation(has_muwtipwe_hashtags_ow_twends_fwag, (⑅˘꒳˘)
        thwiftcsftype.boowean, ^•ﻌ•^ 0, 6, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(fwom_vewified_account_fwag, ( ͡o ω ͡o ) t-thwiftcsftype.boowean, ( ͡o ω ͡o ) 0, 7, 1);
    nyeweawwybiwdfeatuweconfiguwation(text_scowe, (✿oωo) t-thwiftcsftype.int, 😳😳😳 0, 8, 8);
    nyeweawwybiwdfeatuweconfiguwation(wanguage, OwO t-thwiftcsftype.int, ^^ 0, 16, 8);
    n-nyeweawwybiwdfeatuweconfiguwation(wink_wanguage, rawr x3 thwiftcsftype.int, 🥺 0, 24, 8);

    nyeweawwybiwdfeatuweconfiguwation(has_image_uww_fwag, (ˆ ﻌ ˆ)♡ t-thwiftcsftype.boowean, ( ͡o ω ͡o ) 1, 0, 1);
    nyeweawwybiwdfeatuweconfiguwation(has_video_uww_fwag, >w< thwiftcsftype.boowean, 1, /(^•ω•^) 1, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(has_news_uww_fwag, 😳😳😳 t-thwiftcsftype.boowean, (U ᵕ U❁) 1, (˘ω˘) 2, 1);
    nyeweawwybiwdfeatuweconfiguwation(has_expando_cawd_fwag, 😳 thwiftcsftype.boowean, (ꈍᴗꈍ) 1, 3, :3 1);
    n-nyeweawwybiwdfeatuweconfiguwation(has_muwtipwe_media_fwag, /(^•ω•^) thwiftcsftype.boowean, ^^;; 1, o.O 4, 1);
    neweawwybiwdfeatuweconfiguwation(pwofiwe_is_egg_fwag, 😳 t-thwiftcsftype.boowean, UwU 1, 5, >w< 1);
    nyeweawwybiwdfeatuweconfiguwation(num_mentions, o.O thwiftcsftype.int, (˘ω˘) 1, 6, òωó 2);     // 0, 1, nyaa~~ 2, 3+
    n-nyeweawwybiwdfeatuweconfiguwation(num_hashtags, ( ͡o ω ͡o ) t-thwiftcsftype.int, 😳😳😳 1, 8, 2);     // 0, ^•ﻌ•^ 1, 2, 3+
    nyeweawwybiwdfeatuweconfiguwation(has_cawd_fwag, (˘ω˘) thwiftcsftype.boowean, (˘ω˘) 1, 10, -.- 1);
    nyeweawwybiwdfeatuweconfiguwation(has_visibwe_wink_fwag, ^•ﻌ•^ thwiftcsftype.boowean, /(^•ω•^) 1, 11, (///ˬ///✿) 1);
    nyeweawwybiwdfeatuweconfiguwation(usew_weputation, mya thwiftcsftype.int, o.O 1, 12, 8);
    nyeweawwybiwdfeatuweconfiguwation(is_usew_spam_fwag, ^•ﻌ•^ thwiftcsftype.boowean, (U ᵕ U❁) 1, 20, :3 1);
    nyeweawwybiwdfeatuweconfiguwation(is_usew_nsfw_fwag, thwiftcsftype.boowean, (///ˬ///✿) 1, 21, 1);
    nyeweawwybiwdfeatuweconfiguwation(is_usew_bot_fwag, (///ˬ///✿) thwiftcsftype.boowean, 🥺 1, 22, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(is_usew_new_fwag, -.- t-thwiftcsftype.boowean, nyaa~~ 1, (///ˬ///✿) 23, 1);
    nyeweawwybiwdfeatuweconfiguwation(pwev_usew_tweet_engagement, 🥺 thwiftcsftype.int, >w< 1, rawr x3 24, 6);
    n-nyeweawwybiwdfeatuweconfiguwation(composew_souwce_is_camewa_fwag, (⑅˘꒳˘)
        t-thwiftcsftype.boowean, σωσ 1, 30, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(is_nuwwcast_fwag, XD thwiftcsftype.boowean, -.- 1, >_< 31, 1);

    n-nyeweawwybiwdfeatuweconfiguwation(wetweet_count, rawr thwiftcsftype.doubwe, 😳😳😳 2, 0, 8, UwU
        thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(favowite_count, (U ﹏ U) t-thwiftcsftype.doubwe, (˘ω˘) 2, 8, 8,
        thwiftfeatuweupdateconstwaint.inc_onwy);
    n-neweawwybiwdfeatuweconfiguwation(wepwy_count, thwiftcsftype.doubwe, /(^•ω•^) 2, 16, 8,
        t-thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(pawus_scowe, (U ﹏ U) thwiftcsftype.doubwe, ^•ﻌ•^ 2, >w< 24, 8);

    nyeweawwybiwdfeatuweconfiguwation(has_consumew_video_fwag, ʘwʘ t-thwiftcsftype.boowean, òωó 3, 0, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(has_pwo_video_fwag, o.O t-thwiftcsftype.boowean, ( ͡o ω ͡o ) 3, 1, 1);
    n-neweawwybiwdfeatuweconfiguwation(has_vine_fwag, mya t-thwiftcsftype.boowean, >_< 3, 2, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(has_pewiscope_fwag, t-thwiftcsftype.boowean, rawr 3, 3, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(has_native_image_fwag, >_< t-thwiftcsftype.boowean, (U ﹏ U) 3, 4, rawr 1);
    // nyote: thewe a-awe 3 bits weft i-in the fiwst b-byte of int 3, (U ᵕ U❁) if possibwe, (ˆ ﻌ ˆ)♡ pwease w-wesewve them
    // fow futuwe media types (seawch-9131)
    // n-nyeweawwybiwdfeatuweconfiguwation(futuwe_media_bits, >_< thwiftcsftype.int, ^^;; 3, 5, ʘwʘ 3);

    n-nyeweawwybiwdfeatuweconfiguwation(visibwe_token_watio, 😳😳😳 t-thwiftcsftype.int, UwU 3, 8, 4);
    n-nyeweawwybiwdfeatuweconfiguwation(has_quote_fwag, OwO thwiftcsftype.boowean, :3 3, 12, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(fwom_bwue_vewified_account_fwag, -.-
        thwiftcsftype.boowean, 🥺 3, 13, 1);
    // u-unused bits fwom bit 14 t-to bit 31 (18 bits)
    // n-nyeweawwybiwdfeatuweconfiguwation(unused_bits, -.- thwiftcsftype.int, -.- 3, 14, 18);

    nyeweawwybiwdfeatuweconfiguwation(tweet_signatuwe, (U ﹏ U) thwiftcsftype.int, rawr 4, 0, 32);

    nyeweawwybiwdfeatuweconfiguwation(embeds_impwession_count, mya
        t-thwiftcsftype.doubwe, ( ͡o ω ͡o ) 0, 0, 8, thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(embeds_uww_count, /(^•ω•^)
        t-thwiftcsftype.doubwe, >_< 0, (✿oωo) 8, 8, thwiftfeatuweupdateconstwaint.inc_onwy);
    nyeweawwybiwdfeatuweconfiguwation(video_view_count, 😳😳😳
        thwiftcsftype.doubwe, (ꈍᴗꈍ) 0, 16, 8, 🥺 t-thwiftfeatuweupdateconstwaint.inc_onwy);

    // unused b-bits fwom bit 24 t-to bit 31 (8 b-bits). mya
    // this used to be a featuwe that w-was decommissioned (seawchquaw-10321)
    n-nyeweawwybiwdfeatuweconfiguwation(extended_featuwe_unused_bits_0_24_8, (ˆ ﻌ ˆ)♡
        thwiftcsftype.int, (⑅˘꒳˘) 0, 24, òωó 8);

    n-nyeweawwybiwdfeatuweconfiguwation(wefewence_authow_id_weast_significant_int, o.O
        thwiftcsftype.int, XD 1, 0, 32, thwiftfeatuweupdateconstwaint.immutabwe);
    n-nyeweawwybiwdfeatuweconfiguwation(wefewence_authow_id_most_significant_int, (˘ω˘)
        thwiftcsftype.int, (ꈍᴗꈍ) 2, 0, 32, >w< t-thwiftfeatuweupdateconstwaint.immutabwe);

    n-nyeweawwybiwdfeatuweconfiguwation(wetweet_count_v2, XD
        t-thwiftcsftype.doubwe, -.- 3, 0, 8, ^^;; thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(favowite_count_v2, XD
        t-thwiftcsftype.doubwe, :3 3, 8, 8, t-thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(wepwy_count_v2, σωσ
        thwiftcsftype.doubwe, XD 3, :3 16, 8, t-thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(embeds_impwession_count_v2, rawr
        t-thwiftcsftype.doubwe, 😳 3, 24, 8, 😳😳😳 t-thwiftfeatuweupdateconstwaint.inc_onwy);

    n-neweawwybiwdfeatuweconfiguwation(embeds_uww_count_v2, (ꈍᴗꈍ)
        t-thwiftcsftype.doubwe, 🥺 4, 0, 8, ^•ﻌ•^ t-thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(video_view_count_v2, XD
        thwiftcsftype.doubwe, ^•ﻌ•^ 4, 8, 8, ^^;; t-thwiftfeatuweupdateconstwaint.inc_onwy);
    nyeweawwybiwdfeatuweconfiguwation(quote_count,
        t-thwiftcsftype.doubwe, 4, ʘwʘ 16, 8);

    neweawwybiwdfeatuweconfiguwation(wabew_abusive_fwag, OwO        t-thwiftcsftype.boowean, 🥺 4, 24, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(wabew_abusive_hi_wcw_fwag, (⑅˘꒳˘) t-thwiftcsftype.boowean, (///ˬ///✿) 4, 25, (✿oωo) 1);
    nyeweawwybiwdfeatuweconfiguwation(wabew_dup_content_fwag, nyaa~~    thwiftcsftype.boowean, >w< 4, (///ˬ///✿) 26, 1);
    nyeweawwybiwdfeatuweconfiguwation(wabew_nsfw_hi_pwc_fwag, rawr    thwiftcsftype.boowean, (U ﹏ U) 4, 27, 1);
    nyeweawwybiwdfeatuweconfiguwation(wabew_nsfw_hi_wcw_fwag, ^•ﻌ•^    t-thwiftcsftype.boowean, (///ˬ///✿) 4, 28, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(wabew_spam_fwag, o.O           t-thwiftcsftype.boowean, >w< 4, nyaa~~ 29, 1);
    nyeweawwybiwdfeatuweconfiguwation(wabew_spam_hi_wcw_fwag, òωó    thwiftcsftype.boowean, (U ᵕ U❁) 4, 30, 1);

    nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_4_31_1, (///ˬ///✿)
        thwiftcsftype.int, (✿oωo) 4, 31, 1);

    n-nyeweawwybiwdfeatuweconfiguwation(weighted_wetweet_count, 😳😳😳
        t-thwiftcsftype.doubwe, (✿oωo) 5, 0, 8, thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(weighted_wepwy_count, (U ﹏ U)
        t-thwiftcsftype.doubwe, (˘ω˘) 5, 8, 8, thwiftfeatuweupdateconstwaint.inc_onwy);
    nyeweawwybiwdfeatuweconfiguwation(weighted_favowite_count, 😳😳😳
        thwiftcsftype.doubwe, (///ˬ///✿) 5, 16, 8, t-thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(weighted_quote_count, (U ᵕ U❁)
        t-thwiftcsftype.doubwe, >_< 5, 24, 8, t-thwiftfeatuweupdateconstwaint.inc_onwy);

    nyeweawwybiwdfeatuweconfiguwation(pewiscope_exists, (///ˬ///✿)
        thwiftcsftype.boowean, (U ᵕ U❁) 6, 0, 1);
    nyeweawwybiwdfeatuweconfiguwation(pewiscope_has_been_featuwed,
        t-thwiftcsftype.boowean, >w< 6, 1, 1);
    n-nyeweawwybiwdfeatuweconfiguwation(pewiscope_is_cuwwentwy_featuwed, 😳😳😳
        thwiftcsftype.boowean, (ˆ ﻌ ˆ)♡ 6, 2, 1);
    nyeweawwybiwdfeatuweconfiguwation(pewiscope_is_fwom_quawity_souwce, (ꈍᴗꈍ)
        t-thwiftcsftype.boowean, 🥺 6, 3, 1);
    nyeweawwybiwdfeatuweconfiguwation(pewiscope_is_wive, >_<
        thwiftcsftype.boowean, OwO 6, 4, 1);

    nyeweawwybiwdfeatuweconfiguwation(is_twending_now_fwag, ^^;;
        thwiftcsftype.boowean, (✿oωo) 6, UwU 5, 1);

    // w-wemaining bits fow integew 6
    n-nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_7_6_26, ( ͡o ω ͡o )
        t-thwiftcsftype.int, (✿oωo) 6, mya 6, 26);

    // the decaying c-countews can become s-smowew
    nyeweawwybiwdfeatuweconfiguwation(decayed_wetweet_count, ( ͡o ω ͡o )
        thwiftcsftype.doubwe, :3 7, 0, 8, 😳 thwiftfeatuweupdateconstwaint.positive);
    n-nyeweawwybiwdfeatuweconfiguwation(decayed_wepwy_count, (U ﹏ U)
        thwiftcsftype.doubwe, >w< 7, 8, 8, t-thwiftfeatuweupdateconstwaint.positive);
    n-nyeweawwybiwdfeatuweconfiguwation(decayed_favowite_count, UwU
        t-thwiftcsftype.doubwe, 😳 7, 16, 8, XD t-thwiftfeatuweupdateconstwaint.positive);
    nyeweawwybiwdfeatuweconfiguwation(decayed_quote_count, (✿oωo)
        t-thwiftcsftype.doubwe, ^•ﻌ•^ 7, 24, 8, mya t-thwiftfeatuweupdateconstwaint.positive);

    // t-the fake engagement countews. (˘ω˘)
    n-nyeweawwybiwdfeatuweconfiguwation(fake_wetweet_count, nyaa~~
        thwiftcsftype.doubwe, 8, :3 0, 8, thwiftfeatuweupdateconstwaint.positive);
    n-nyeweawwybiwdfeatuweconfiguwation(fake_wepwy_count, (✿oωo)
        t-thwiftcsftype.doubwe, (U ﹏ U) 8, 8, (ꈍᴗꈍ) 8, t-thwiftfeatuweupdateconstwaint.positive);
    nyeweawwybiwdfeatuweconfiguwation(fake_favowite_count, (˘ω˘)
        thwiftcsftype.doubwe, ^^ 8, 16, 8, (⑅˘꒳˘) thwiftfeatuweupdateconstwaint.positive);
    nyeweawwybiwdfeatuweconfiguwation(fake_quote_count, rawr
        t-thwiftcsftype.doubwe, :3 8, 24, 8, thwiftfeatuweupdateconstwaint.positive);

    n-nyeweawwybiwdfeatuweconfiguwation(wast_wetweet_since_cweation_hws, OwO
        t-thwiftcsftype.int, (ˆ ﻌ ˆ)♡ 9, :3 0, 8, thwiftfeatuweupdateconstwaint.inc_onwy);
    nyeweawwybiwdfeatuweconfiguwation(wast_wepwy_since_cweation_hws, -.-
        t-thwiftcsftype.int, -.- 9, 8, 8, thwiftfeatuweupdateconstwaint.inc_onwy);
    n-neweawwybiwdfeatuweconfiguwation(wast_favowite_since_cweation_hws, òωó
        t-thwiftcsftype.int, 😳 9, 16, nyaa~~ 8, t-thwiftfeatuweupdateconstwaint.inc_onwy);
    n-nyeweawwybiwdfeatuweconfiguwation(wast_quote_since_cweation_hws, (⑅˘꒳˘)
        t-thwiftcsftype.int, 😳 9, 24, 8, thwiftfeatuweupdateconstwaint.inc_onwy);

    nyeweawwybiwdfeatuweconfiguwation(num_hashtags_v2, (U ﹏ U)
        thwiftcsftype.int, /(^•ω•^) 10, 0, 4);
    nyeweawwybiwdfeatuweconfiguwation(num_mentions_v2, OwO
        thwiftcsftype.int, ( ͡o ω ͡o ) 10, 4, 4);
    n-neweawwybiwdfeatuweconfiguwation(num_stocks, XD
        thwiftcsftype.int, /(^•ω•^) 10, /(^•ω•^) 8, 4);

    // w-wemaining bits fow integew 10
    // pwoduction toxicity and p-pbwock scowe fwom hmw (go/toxicity, 😳😳😳 go/pbwock)
    nyeweawwybiwdfeatuweconfiguwation(toxicity_scowe, (ˆ ﻌ ˆ)♡
        thwiftcsftype.doubwe, :3 10, 12, 10);
    n-nyeweawwybiwdfeatuweconfiguwation(pbwock_scowe, òωó
        t-thwiftcsftype.doubwe, 🥺 10, 22, (U ﹏ U) 10);

    // the bwink e-engagement countews
    nyeweawwybiwdfeatuweconfiguwation(bwink_wetweet_count, XD
        thwiftcsftype.doubwe, ^^ 11, 0, 8, o.O t-thwiftfeatuweupdateconstwaint.positive);
    n-nyeweawwybiwdfeatuweconfiguwation(bwink_wepwy_count, 😳😳😳
        thwiftcsftype.doubwe, /(^•ω•^) 11, 8, 8, t-thwiftfeatuweupdateconstwaint.positive);
    nyeweawwybiwdfeatuweconfiguwation(bwink_favowite_count, 😳😳😳
        t-thwiftcsftype.doubwe, ^•ﻌ•^ 11, 16, 8, 🥺 thwiftfeatuweupdateconstwaint.positive);
    neweawwybiwdfeatuweconfiguwation(bwink_quote_count, o.O
        thwiftcsftype.doubwe, 11, (U ᵕ U❁) 24, 8, t-thwiftfeatuweupdateconstwaint.positive);

    // expewimentaw heawth m-modew scowes fwom h-hmw
    nyeweawwybiwdfeatuweconfiguwation(expewimentaw_heawth_modew_scowe_1, ^^
        t-thwiftcsftype.doubwe, (⑅˘꒳˘) 12, 0, 10);
    nyeweawwybiwdfeatuweconfiguwation(expewimentaw_heawth_modew_scowe_2, :3
        thwiftcsftype.doubwe, (///ˬ///✿) 12, 10, 10);
    n-nyeweawwybiwdfeatuweconfiguwation(expewimentaw_heawth_modew_scowe_3,
        thwiftcsftype.doubwe, :3 12, 🥺 20, 10);
    // wemaining bits fow integew 12
    nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_12_30_2, mya
        thwiftcsftype.int, XD 12, 30, -.- 2);

    // e-expewimentaw h-heawth modew s-scowes fwom hmw (cont.)
    n-nyeweawwybiwdfeatuweconfiguwation(expewimentaw_heawth_modew_scowe_4, o.O
        thwiftcsftype.doubwe, (˘ω˘) 13, 0, 10);
    // pwoduction pspammytweet s-scowe f-fwom hmw (go/pspammytweet)
    nyeweawwybiwdfeatuweconfiguwation(p_spammy_tweet_scowe, (U ᵕ U❁)
        thwiftcsftype.doubwe, rawr 13, 10, 🥺 10);
    // pwoduction pwepowtedtweet s-scowe fwom hmw (go/pwepowtedtweet)
    nyeweawwybiwdfeatuweconfiguwation(p_wepowted_tweet_scowe, rawr x3
        thwiftcsftype.doubwe, ( ͡o ω ͡o ) 13, 20, σωσ 10);
    // w-wemaining bits fow integew 13
    nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_13_30_2, rawr x3
        t-thwiftcsftype.int, (ˆ ﻌ ˆ)♡ 13, 30, rawr 2);

    // e-expewimentaw heawth modew scowes f-fwom hmw (cont.)
    // p-pwod s-spammy tweet content modew scowe fwom pwatfowm m-manipuwation (go/spammy-tweet-content)
    nyeweawwybiwdfeatuweconfiguwation(spammy_tweet_content_scowe,
        thwiftcsftype.doubwe, :3 14, rawr 0, 10);
    // w-wemaining bits fow integew 14
    nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_14_10_22, (˘ω˘)
        thwiftcsftype.int, (ˆ ﻌ ˆ)♡ 14, mya 10, 22);

    // n-nyote t-that the integew i-index bewow is 0-based, (U ᵕ U❁) b-but the i-index j in unused_bits_{j} bewow
    // i-is 1-based. mya
    nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_16, ʘwʘ
        thwiftcsftype.int, (˘ω˘) 15, 0, 32);
    n-nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_17, 😳
        thwiftcsftype.int, òωó 16, 0, 32);
    n-nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_18,
        thwiftcsftype.int, nyaa~~ 17, 0, o.O 32);
    nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_19, nyaa~~
        t-thwiftcsftype.int, 18, (U ᵕ U❁) 0, 32);
    n-nyeweawwybiwdfeatuweconfiguwation(extended_test_featuwe_unused_bits_20, 😳😳😳
        thwiftcsftype.int, (U ﹏ U) 19, 0, 32);
  }

  p-pwivate eawwybiwdschemacweatetoow() { }

  /**
   * g-get schema fow the e-eawwybiwd.
   */
  pubwic static d-dynamicschema b-buiwdschema(eawwybiwdcwustew cwustew)
      thwows s-schema.schemavawidationexception {
    schema_buiwd_count.incwement();
    wetuwn nyew dynamicschema(new immutabweschema(buiwdthwiftschema(cwustew), ^•ﻌ•^
                                                 n-nyew anawyzewfactowy(), (⑅˘꒳˘)
                                                 c-cwustew.getnamefowstats()));
  }

  /**
   * get schema fow the eawwybiwd, >_< can t-thwow wuntime e-exception. (⑅˘꒳˘)  this i-is mostwy fow static schema
   * u-usage, σωσ which d-does nyot cawe about schema updates. 🥺
   */
  @visibwefowtesting
  p-pubwic static dynamicschema buiwdschemawithwuntimeexception(eawwybiwdcwustew cwustew) {
    t-twy {
      wetuwn b-buiwdschema(cwustew);
    } c-catch (schema.schemavawidationexception e) {
      thwow nyew wuntimeexception(e);
    }
  }

  pwivate static featuweconfiguwation n-nyeweawwybiwdfeatuweconfiguwation(
      e-eawwybiwdfiewdconstant fiewdconstant, :3
      thwiftcsftype type, (ꈍᴗꈍ)
      i-int intindex, ^•ﻌ•^ int bitstawtpos, (˘ω˘) int b-bitwength, 🥺
      t-thwiftfeatuweupdateconstwaint... constwaints) {

    if (!fiewdconstant.isfwagfeatuwefiewd() && type == thwiftcsftype.boowean) {
      thwow n-nyew iwwegawawgumentexception(
          "non-fwag featuwe fiewd configuwed with b-boowean thwift type: " + fiewdconstant);
    }
    i-if (fiewdconstant.isfwagfeatuwefiewd() && type != t-thwiftcsftype.boowean) {
      thwow nyew i-iwwegawawgumentexception(
          "fwag f-featuwe f-fiewd configuwed w-with nyon-boowean t-thwift type: " + f-fiewdconstant);
    }

    stwing basefiewdname = getbasefiewdname(fiewdconstant);
    stwing nyame = getfeatuwenameinfiewd(fiewdconstant);
    featuweconfiguwation.buiwdew b-buiwdew = featuweconfiguwation.buiwdew()
        .withname(name)
        .withtype(type)
        .withbitwange(intindex, (✿oωo) b-bitstawtpos, XD b-bitwength);
    // w-wemove t-the fowwowing w-wine once we configuwe featuwes puwewy by the schema
    buiwdew.withbasefiewd(basefiewdname);

    if (!fiewdconstant.isunusedfiewd()) {
      b-buiwdew.withoutputtype(type);
    }
    i-if (fiewdconstant.getfeatuwenowmawizationtype() != nyuww) {
      buiwdew.withfeatuwenowmawizationtype(fiewdconstant.getfeatuwenowmawizationtype());
    }

    fow (thwiftfeatuweupdateconstwaint c-constwaint : c-constwaints) {
      buiwdew.withfeatuweupdateconstwaint(constwaint);
    }
    f-featuweconfiguwation featuweconfiguwation = buiwdew.buiwd();
    featuwe_configuwation_map.put(fiewdconstant.getfiewdname(), (///ˬ///✿) f-featuweconfiguwation);
    wetuwn featuweconfiguwation;
  }

  /**
   * buiwd thwiftschema f-fow the eawwybiwd. ( ͡o ω ͡o ) n-nyote that the schema wetuwned can be used
   * a-aww eawwybiwd cwustews. ʘwʘ howevew, s-some cwustews m-may nyot use aww the fiewd configuwations. rawr
   */
  @visibwefowtesting
  p-pubwic s-static thwiftschema b-buiwdthwiftschema(eawwybiwdcwustew c-cwustew) {
    e-eawwybiwdschemabuiwdew b-buiwdew = new eawwybiwdschemabuiwdew(
        nyew e-eawwybiwdfiewdconstants(), o.O c-cwustew, ^•ﻌ•^ tokenstweamsewiawizew.vewsion.vewsion_2);

    b-buiwdew.withschemavewsion(
        fwushvewsion.cuwwent_fwush_vewsion.getvewsionnumbew(),
        fwushvewsion.cuwwent_fwush_vewsion.getminowvewsion(), (///ˬ///✿)
        f-fwushvewsion.cuwwent_fwush_vewsion.getdescwiption(), (ˆ ﻌ ˆ)♡
        fwushvewsion.cuwwent_fwush_vewsion.isofficiaw());

    // i-id fiewd, XD used fow p-pawtitioning
    b-buiwdew.withpawtitionfiewdid(0)
        .withsowtabwewongtewmfiewd(eawwybiwdfiewdconstant.id_fiewd.getfiewdname())
        // text fiewds that awe seawched by d-defauwt
        .withtextfiewd(eawwybiwdfiewdconstant.wesowved_winks_text_fiewd.getfiewdname(), (✿oωo) twue)
        .withseawchfiewdbydefauwt(
            eawwybiwdfiewdconstant.wesowved_winks_text_fiewd.getfiewdname(), 0.1f)
        .withpwetokenizedtextfiewd(eawwybiwdfiewdconstant.text_fiewd.getfiewdname(), -.- t-twue)
        .withseawchfiewdbydefauwt(eawwybiwdfiewdconstant.text_fiewd.getfiewdname(), XD 1.0f);
    b-buiwdew.withtweetspecificnowmawization(eawwybiwdfiewdconstant.text_fiewd.getfiewdname())
        .withtextfiewd(eawwybiwdfiewdconstant.tokenized_fwom_usew_fiewd.getfiewdname(), (✿oωo) twue)
        .withseawchfiewdbydefauwt(
            eawwybiwdfiewdconstant.tokenized_fwom_usew_fiewd.getfiewdname(), (˘ω˘) 0.2f)

        // text f-fiewds not seawched b-by defauwt
        .withtextfiewd(eawwybiwdfiewdconstant.fwom_usew_fiewd.getfiewdname(), (ˆ ﻌ ˆ)♡ fawse)
        .withtextfiewd(eawwybiwdfiewdconstant.to_usew_fiewd.getfiewdname(), >_< f-fawse)

        // cawds awe nyot seawched by d-defauwt, -.- and have w-weight 0. (///ˬ///✿)
        .withpwetokenizedtextfiewd(eawwybiwdfiewdconstant.cawd_titwe_fiewd.getfiewdname(), XD fawse)
        .withpwetokenizedtextfiewd(
            e-eawwybiwdfiewdconstant.cawd_descwiption_fiewd.getfiewdname(), ^^;; f-fawse)
        .withtextfiewd(eawwybiwdfiewdconstant.cawd_wang.getfiewdname(), rawr x3 fawse)

        // out-of-owdew append f-fiewds
        .withwongtewmfiewd(eawwybiwdfiewdconstant.wiked_by_usew_id_fiewd.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.wetweeted_by_usew_id.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.wepwied_to_by_usew_id.getfiewdname())

        // nyo p-position fiewds, OwO s-sowted awphabeticawwy
        .withpwetokenizednopositionfiewd(eawwybiwdfiewdconstant.cawd_domain_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.cawd_name_fiewd.getfiewdname())
        .withinttewmfiewd(eawwybiwdfiewdconstant.cweated_at_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.entity_id_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.geo_hash_fiewd.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.fwom_usew_id_fiewd.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.in_wepwy_to_tweet_id_fiewd.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.in_wepwy_to_usew_id_fiewd.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.wetweet_souwce_tweet_id_fiewd.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.wetweet_souwce_usew_id_fiewd.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.convewsation_id_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.pwace_id_fiewd.getfiewdname())
        .withtextfiewd(eawwybiwdfiewdconstant.pwace_fuww_name_fiewd.getfiewdname(), ʘwʘ f-fawse)
        .withindexednottokenizedfiewd(
            eawwybiwdfiewdconstant.pwace_countwy_code_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(
            eawwybiwdfiewdconstant.pwofiwe_geo_countwy_code_fiewd.getfiewdname())
        .withtextfiewd(eawwybiwdfiewdconstant.pwofiwe_geo_wegion_fiewd.getfiewdname(), rawr fawse)
        .withtextfiewd(eawwybiwdfiewdconstant.pwofiwe_geo_wocawity_fiewd.getfiewdname(), UwU fawse)
        .withtewmtextwookup(eawwybiwdfiewdconstant.fwom_usew_id_fiewd.getfiewdname())
        .withtewmtextwookup(eawwybiwdfiewdconstant.in_wepwy_to_usew_id_fiewd.getfiewdname())
        .withpwetokenizednopositionfiewd(eawwybiwdfiewdconstant.hashtags_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(immutabweschema.hf_phwase_paiws_fiewd)
        .withindexednottokenizedfiewd(immutabweschema.hf_tewm_paiws_fiewd)
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.image_winks_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.intewnaw_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.iso_wanguage_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.winks_fiewd.getfiewdname())
        .withinttewmfiewd(eawwybiwdfiewdconstant.wink_categowy_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.mentions_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.news_winks_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.nowmawized_souwce_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.pwace_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.souwce_fiewd.getfiewdname())
        .withpwetokenizednopositionfiewd(eawwybiwdfiewdconstant.stocks_fiewd.getfiewdname())
        .withindexednottokenizedfiewd(eawwybiwdfiewdconstant.video_winks_fiewd.getfiewdname())
        .withinttewmfiewd(nowmawized_favowite_count_gweatew_than_ow_equaw_to_fiewd.getfiewdname())
        .withinttewmfiewd(nowmawized_wepwy_count_gweatew_than_ow_equaw_to_fiewd.getfiewdname())
        .withinttewmfiewd(nowmawized_wetweet_count_gweatew_than_ow_equaw_to_fiewd.getfiewdname())

        .withinttewmfiewd(eawwybiwdfiewdconstant.composew_souwce.getfiewdname())

        .withwongtewmfiewd(eawwybiwdfiewdconstant.quoted_tweet_id_fiewd.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.quoted_usew_id_fiewd.getfiewdname())
        .withwongtewmfiewd(eawwybiwdfiewdconstant.diwected_at_usew_id_fiewd.getfiewdname())

        // nyamed entity fiewds
        .withindexednottokenizedfiewd(
            e-eawwybiwdfiewdconstant.named_entity_fwom_uww_fiewd.getfiewdname(), (ꈍᴗꈍ) t-twue)
        .withindexednottokenizedfiewd(
            e-eawwybiwdfiewdconstant.named_entity_fwom_text_fiewd.getfiewdname(), (✿oωo) t-twue)
        .withindexednottokenizedfiewd(
            e-eawwybiwdfiewdconstant.named_entity_with_type_fwom_uww_fiewd.getfiewdname(), (⑅˘꒳˘) t-twue)
        .withindexednottokenizedfiewd(
            eawwybiwdfiewdconstant.named_entity_with_type_fwom_text_fiewd.getfiewdname(), OwO twue)

        // c-camewcase-tokenized u-usew handwes and tokenized u-usew nyames, 🥺 nyot s-seawchabwe by defauwt
        .withpwetokenizedtextfiewd(
            eawwybiwdfiewdconstant.camewcase_usew_handwe_fiewd.getfiewdname(), >_< f-fawse)
        .withpwetokenizedtextfiewd(
            eawwybiwdfiewdconstant.tokenized_usew_name_fiewd.getfiewdname(), (ꈍᴗꈍ) fawse)

        .withindexednottokenizedfiewd(
            e-eawwybiwdfiewdconstant.space_id_fiewd.getfiewdname())
        .withtextfiewd(eawwybiwdfiewdconstant.space_admin_fiewd.getfiewdname(), fawse)
        .withpwetokenizedtextfiewd(eawwybiwdfiewdconstant.space_titwe_fiewd.getfiewdname(), 😳 f-fawse)
        .withtextfiewd(eawwybiwdfiewdconstant.tokenized_space_admin_fiewd.getfiewdname(), 🥺 t-twue)
        .withpwetokenizedtextfiewd(
            eawwybiwdfiewdconstant.camewcase_tokenized_space_admin_fiewd.getfiewdname(), nyaa~~ f-fawse)
        .withpwetokenizedtextfiewd(
            e-eawwybiwdfiewdconstant.tokenized_space_admin_dispway_name_fiewd.getfiewdname(), ^•ﻌ•^ f-fawse)
        .withpwetokenizedtextfiewd(
            eawwybiwdfiewdconstant.uww_descwiption_fiewd.getfiewdname(), (ˆ ﻌ ˆ)♡ f-fawse)
        .withpwetokenizedtextfiewd(
            e-eawwybiwdfiewdconstant.uww_titwe_fiewd.getfiewdname(), (U ᵕ U❁) fawse);

    b-buiwdew
        .withphotouwwfacetfiewd(eawwybiwdfiewdconstant.twimg_winks_fiewd.getfiewdname())
        .withoutofowdewenabwedfowfiewd(
            eawwybiwdfiewdconstant.wiked_by_usew_id_fiewd.getfiewdname())
        .withoutofowdewenabwedfowfiewd(
            e-eawwybiwdfiewdconstant.wetweeted_by_usew_id.getfiewdname())
        .withoutofowdewenabwedfowfiewd(
            e-eawwybiwdfiewdconstant.wepwied_to_by_usew_id.getfiewdname());

    // c-cowumnstwidefiewds. mya
    boowean woadcsfintowamdefauwt = c-cwustew != eawwybiwdcwustew.fuww_awchive;

    buiwdew
        .withcowumnstwidefiewd(eawwybiwdfiewdconstants.encoded_tweet_featuwes_fiewd_name, 😳
                t-thwiftcsftype.int, nyumbew_of_integews_fow_featuwes, σωσ
                twue, ( ͡o ω ͡o ) woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.fwom_usew_id_csf.getfiewdname(), XD
            thwiftcsftype.wong, :3 1, fawse, /* the fuww awchive woads t-this fiewd into wam */ twue)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.shawed_status_id_csf.getfiewdname(), :3
                thwiftcsftype.wong, (⑅˘꒳˘) 1, fawse, òωó woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.cawd_type_csf_fiewd.getfiewdname(), mya
                thwiftcsftype.byte, 😳😳😳 1, fawse, :3 woadcsfintowamdefauwt)
         // csf u-used by awchive mappews
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.cweated_at_csf_fiewd.getfiewdname(), >_<
            thwiftcsftype.int, 🥺 1, fawse, (ꈍᴗꈍ) /* the f-fuww awchive woads this fiewd i-into wam */ twue)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.id_csf_fiewd.getfiewdname(), rawr x3
            thwiftcsftype.wong, (U ﹏ U) 1, fawse, /* t-the fuww awchive woads this fiewd i-into wam */ twue)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.wat_won_csf_fiewd.getfiewdname(), ( ͡o ω ͡o )
            t-thwiftcsftype.wong, 😳😳😳 1, f-fawse, woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.convewsation_id_csf.getfiewdname(),
            thwiftcsftype.wong, 1, 🥺 fawse, w-woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.quoted_tweet_id_csf.getfiewdname(), òωó
            thwiftcsftype.wong, XD 1, fawse, XD woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.quoted_usew_id_csf.getfiewdname(), ( ͡o ω ͡o )
            thwiftcsftype.wong, >w< 1, f-fawse, mya woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.cawd_wang_csf.getfiewdname(), (ꈍᴗꈍ)
            thwiftcsftype.int, -.- 1, f-fawse, (⑅˘꒳˘) woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.cawd_uwi_csf.getfiewdname(), (U ﹏ U)
            thwiftcsftype.wong, σωσ 1, f-fawse, woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.diwected_at_usew_id_csf.getfiewdname(), :3
            t-thwiftcsftype.wong, /(^•ω•^) 1, f-fawse, σωσ woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(eawwybiwdfiewdconstant.wefewence_authow_id_csf.getfiewdname(), (U ᵕ U❁)
            thwiftcsftype.wong, 😳 1, f-fawse, ʘwʘ woadcsfintowamdefauwt)
        .withcowumnstwidefiewd(
            eawwybiwdfiewdconstant.excwusive_convewsation_authow_id_csf.getfiewdname(), (⑅˘꒳˘)
            thwiftcsftype.wong, ^•ﻌ•^ 1, f-fawse, woadcsfintowamdefauwt)

    /* semicowon on sepawate wine to pwesewve git bwame. nyaa~~ */;

    b-buiwdew.withcowumnstwidefiewd(
        e-eawwybiwdfiewdconstants.extended_encoded_tweet_featuwes_fiewd_name, XD
        thwiftcsftype.int, /(^•ω•^) n-nyumbew_of_integews_fow_extended_featuwes, (U ᵕ U❁)
        t-twue, mya woadcsfintowamdefauwt);

    f-fow (map.entwy<stwing, (ˆ ﻌ ˆ)♡ featuweconfiguwation> entwy : featuwe_configuwation_map.entwyset()) {
      stwing fuwwname = e-entwy.getkey();
      s-stwing basename = getbasefiewdname(fuwwname);
      e-eawwybiwdfiewdconstant f-fiewdconstant = eawwybiwdfiewdconstants.getfiewdconstant(fuwwname);
      i-if (fiewdconstant.isvawidfiewdincwustew(cwustew)) {
        buiwdew.withfeatuweconfiguwation(basename, (✿oωo) fuwwname, (✿oωo) entwy.getvawue());
      }
    }
    // a-add facet settings fow facet fiewds
    // b-boowean awgs awe w-wespectivewy whethew to use skipwist, òωó whethew o-offensive, (˘ω˘) whethew to use csf
    buiwdew
        .withfacetconfigs(eawwybiwdfiewdconstant.mentions_fiewd.getfiewdname(), (ˆ ﻌ ˆ)♡
            eawwybiwdfiewdconstant.mentions_facet, twue, ( ͡o ω ͡o ) fawse, fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.hashtags_fiewd.getfiewdname(), rawr x3
            eawwybiwdfiewdconstant.hashtags_facet, (˘ω˘) twue, fawse, òωó f-fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.stocks_fiewd.getfiewdname(), ( ͡o ω ͡o )
            e-eawwybiwdfiewdconstant.stocks_facet, σωσ twue, (U ﹏ U) fawse, f-fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.image_winks_fiewd.getfiewdname(), rawr
            e-eawwybiwdfiewdconstant.images_facet, -.- twue, twue, ( ͡o ω ͡o ) fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.video_winks_fiewd.getfiewdname(),
            e-eawwybiwdfiewdconstant.videos_facet, >_< twue, twue, fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.news_winks_fiewd.getfiewdname(), o.O
            eawwybiwdfiewdconstant.news_facet, σωσ twue, fawse, -.- fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.iso_wanguage_fiewd.getfiewdname(), σωσ
            eawwybiwdfiewdconstant.wanguages_facet, :3 f-fawse, fawse, ^^ fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.souwce_fiewd.getfiewdname(), òωó
            eawwybiwdfiewdconstant.souwces_facet, (ˆ ﻌ ˆ)♡ fawse, XD fawse, fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.twimg_winks_fiewd.getfiewdname(), òωó
            e-eawwybiwdfiewdconstant.twimg_facet, (ꈍᴗꈍ) t-twue, twue, UwU f-fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.fwom_usew_id_csf.getfiewdname(), >w<
            eawwybiwdfiewdconstant.fwom_usew_id_facet, ʘwʘ fawse, fawse, :3 twue /* facet on csf */)
        .withfacetconfigs(eawwybiwdfiewdconstant.shawed_status_id_csf.getfiewdname(), ^•ﻌ•^
            e-eawwybiwdfiewdconstant.wetweets_facet, (ˆ ﻌ ˆ)♡ f-fawse, fawse, 🥺 twue /* f-facet on csf */)
        .withfacetconfigs(eawwybiwdfiewdconstant.winks_fiewd.getfiewdname(), OwO
            eawwybiwdfiewdconstant.winks_facet, 🥺 t-twue, OwO fawse, fawse)
        .withfacetconfigs(
            eawwybiwdfiewdconstant.named_entity_with_type_fwom_uww_fiewd.getfiewdname(), (U ᵕ U❁)
            t-twue, ( ͡o ω ͡o ) fawse, ^•ﻌ•^ fawse)
        .withfacetconfigs(
            e-eawwybiwdfiewdconstant.named_entity_with_type_fwom_text_fiewd.getfiewdname(), o.O
            twue, (⑅˘꒳˘) f-fawse, fawse)
        .withfacetconfigs(
            eawwybiwdfiewdconstant.entity_id_fiewd.getfiewdname(), (ˆ ﻌ ˆ)♡
            twue, :3 f-fawse, fawse)
        .withfacetconfigs(eawwybiwdfiewdconstant.space_id_fiewd.getfiewdname(), /(^•ω•^)
            eawwybiwdfiewdconstant.spaces_facet, òωó t-twue, fawse, :3 fawse);
    w-wetuwn buiwdew.buiwd();
  }
}
