scala_library(
    platform = "java8",
    tags = ["bazel-compatible"],
    dependencies = [
        "3rdparty/jvm/com/X/algebird:core",
        "3rdparty/jvm/com/X/algebird:util",
        "3rdparty/jvm/com/X/bijection:core",
        "3rdparty/jvm/com/X/bijection:util",
        "3rdparty/jvm/com/X/storehaus:core",
        "3rdparty/src/jvm/com/X/summingbird:client",
        "cuad/projects/ner/client",
        "cuad/projects/ner/thrift/src/main/thrift:thrift-scala",
        "snowflake/src/main/scala/com/X/snowflake/id",
        "src/scala/com/X/algebird_internal/injection",
        "src/scala/com/X/simclusters_v2/common",
        "src/scala/com/X/storehaus_internal/manhattan",
        "src/scala/com/X/storehaus_internal/manhattan/config",
        "src/scala/com/X/storehaus_internal/memcache",
        "src/scala/com/X/storehaus_internal/memcache/config",
        "src/scala/com/X/storehaus_internal/offline",
        "src/scala/com/X/storehaus_internal/online",
        "src/scala/com/X/storehaus_internal/util",
        "src/scala/com/X/summingbird_internal/bijection:bijection-implicits",
        "src/scala/com/X/summingbird_internal/runner/store_config",
        "src/scala/com/X/taxi/util/text",
        "src/scala/com/X/wtf/summingbird/sources/common",
        "src/thrift/com/X/recos/entities:entities-thrift-scala",
        "src/thrift/com/X/simclusters_v2:simclusters_v2-thrift-scala",
        "src/thrift/com/X/timelineservice/server/internal:thrift-scala",
        "src/thrift/com/X/tweetypie:tweet-scala",
        "src/thrift/com/X/wtf/interest:interest-thrift-scala",
        "stitch/stitch-core",
        "stitch/stitch-storehaus/src/main/scala",
    ],
)

## smaller build target for external usage
scala_library(
    name = "util",
    sources = [
        "Configs.scala",
        "Implicits.scala",
        "ModelVersionProfile.scala",
        "Monoids.scala",
        "ThriftDecayedValueMonoid.scala",
    ],
    platform = "java8",
    tags = ["bazel-compatible"],
    dependencies = [
        "3rdparty/jvm/com/X/algebird:core",
        "3rdparty/jvm/com/X/algebird:util",
        "3rdparty/jvm/com/X/bijection:core",
        "3rdparty/jvm/com/X/bijection:util",
        "3rdparty/src/jvm/com/X/summingbird:batch",
        "snowflake/src/main/scala/com/X/snowflake/id",
        "src/scala/com/X/algebird_internal/injection",
        "src/scala/com/X/simclusters_v2/common",
        "src/thrift/com/X/recos/entities:entities-thrift-scala",
        "src/thrift/com/X/simclusters_v2:simclusters_v2-thrift-scala",
        "src/thrift/com/X/tweetypie:tweet-scala",
    ],
)
