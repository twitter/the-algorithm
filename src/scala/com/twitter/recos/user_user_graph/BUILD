scala_library(
    name = "user_user_graph",
    sources = ["*.scala"],
    strict_deps = False,
    tags = ["bazel-compatible"],
    dependencies = [
        "3rdparty/jvm/com/google/guava",
        "3rdparty/jvm/com/twitter/graphjet",
        "3rdparty/jvm/io/netty:netty4-tcnative-boringssl-static",
        "3rdparty/jvm/org/apache/kafka:rosette-kafka",
        "finagle-internal/mtls/src/main/scala/com/twitter/finagle/mtls/authentication",
        "finagle-internal/mtls/src/main/scala/com/twitter/finagle/mtls/server",
        "finagle/finagle-core/src/main",
        "finagle/finagle-http/src/main/scala",
        "finagle/finagle-memcached/src/main/scala",
        "finagle/finagle-stats/src/main/scala",
        "finagle/finagle-thriftmux/src/main/scala",
        "servo/request/src/main/scala",
        "servo/util/src/main/scala",
        "src/resources/com/twitter/recos:decider",
        "src/scala/com/twitter/recos/decider",
        "src/scala/com/twitter/recos/graph_common",
        "src/scala/com/twitter/recos/hose/common",
        "src/scala/com/twitter/recos/model:recos-model",
        "src/scala/com/twitter/recos/util:recos-util",
        "src/thrift/com/twitter/recos/user_user_graph:user_user_graph-scala",
        "thrift-web-forms/src/main/scala/com/twitter/thriftwebforms",
        "twitter-server/slf4j-jdk14/src/main/scala/com/twitter/server/logging",
        "util/util-logging/src/main/scala",
        "util/util-stats/src/main/scala",
    ],
)

jvm_binary(
    name = "bin",
    basename = "user_user_graph-server",
    main = "com.twitter.recos.user_user_graph.Main",
    runtime_platform = "java11",
    tags = ["bazel-compatible"],
    dependencies = [
        ":user_user_graph",
        "3rdparty/jvm/org/slf4j:slf4j-jdk14",
        "twitter-server/slf4j-jdk14/src/main/scala",
    ],
)
