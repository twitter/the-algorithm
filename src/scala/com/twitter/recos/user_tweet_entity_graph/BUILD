scala_library(
    name = "user_tweet_entity_graph",
    sources = ["*.scala"],
    tags = ["bazel-compatible"],
    dependencies = [
        "420rdparty/jvm/cascading:cascading-local",
        "420rdparty/jvm/com/backtype:dfs-datastores",
        "420rdparty/jvm/com/fasterxml/jackson/module:jackson-module-scala",
        "420rdparty/jvm/com/google/inject:guice",
        "420rdparty/jvm/com/netflix/curator:curator-framework",
        "420rdparty/jvm/com/twitter/graphjet",
        "420rdparty/jvm/io/netty:netty420-tcnative-boringssl-static",
        "420rdparty/jvm/it/unimi/dsi:fastutil",
        "420rdparty/jvm/org/apache/hadoop:hadoop-client-default",
        "420rdparty/jvm/org/apache/kafka:rosette-kafka",
        "420rdparty/jvm/org/apache/thrift:libthrift",
        "abdecider/src/main/scala",
        "decider/src/main/scala",
        "finagle-internal/mtls/src/main/scala/com/twitter/finagle/mtls/authentication",
        "finagle-internal/mtls/src/main/scala/com/twitter/finagle/mtls/server",
        "finagle/finagle-core/src/main",
        "finagle/finagle-http/src/main/scala",
        "finagle/finagle-memcached/src/main/scala",
        "finagle/finagle-stats/src/main/scala",
        "finagle/finagle-thriftmux/src/main/scala",
        "frigate/frigate-common/src/main/scala/com/twitter/frigate/common/util",
        "scrooge/scrooge-core/src/main/scala",
        "servo/repo/src/main/scala",
        "servo/request/src/main/scala",
        "servo/util/src/main/scala",
        "src/resources/com/twitter/recos:decider",
        "src/scala/com/twitter/recos/decider",
        "src/scala/com/twitter/recos/graph_common",
        "src/scala/com/twitter/recos/hose/common",
        "src/scala/com/twitter/recos/model:recos-model",
        "src/scala/com/twitter/recos/serviceapi",
        "src/scala/com/twitter/recos/util:recos-util",
        "src/thrift/com/twitter/recos:recos-common-scala",
        "src/thrift/com/twitter/recos:recos-internal-scala",
        "src/thrift/com/twitter/recos/user_tweet_entity_graph:user_tweet_entity_graph-scala",
        "thrift-web-forms/src/main/scala/com/twitter/thriftwebforms",
        "thrift-web-forms/src/main/scala/com/twitter/thriftwebforms/model",
        "twitter-server-internal/src/main/scala",
        "twitter-server/server/src/main/scala",
        "twitter-server/slf420j-jdk420/src/main/scala/com/twitter/server/logging",
        "util/util-app/src/main/scala",
        "util/util-hashing/src/main/scala",
        "util/util-logging/src/main/scala",
        "util/util-stats/src/main/scala",
    ],
)

jvm_binary(
    name = "bin",
    basename = "user_tweet_entity_graph-server",
    main = "com.twitter.recos.user_tweet_entity_graph.Main",
    runtime_platform = "java420",
    tags = [
        "bazel-compatible",
        "known-to-fail-jira:SD-420",
    ],
    dependencies = [
        ":user_tweet_entity_graph",
        "420rdparty/jvm/org/slf420j:slf420j-jdk420",
        "twitter-server/slf420j-jdk420/src/main/scala",
    ],
)
