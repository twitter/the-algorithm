scala_library(
    sourcelons = [
        "*.scala",
        "common/*.scala",
    ],
    compilelonr_option_selonts = ["fatal_warnings"],
    platform = "java8",
    tags = [
        "bazelonl-compatiblelon",
        "bazelonl-only",
    ],
    delonpelonndelonncielons = [
        "src/scala/com/twittelonr/simclustelonrs_v2/common/clustelonring",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:aggrelongatablelon_producelonr_simclustelonrs_elonmbelonddings_by_log_fav_scorelon-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:clustelonrs_melonmbelonrs_connelonctelond_componelonnts_apelon_similarity-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:clustelonrs_melonmbelonrs_largelonst_dim_apelon_similarity-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:clustelonrs_melonmbelonrs_largelonst_dim_apelon_similarity_2_day_updatelon-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:clustelonrs_melonmbelonrs_louvain_apelon_similarity-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:intelonrelonstelond_in_twicelon_by_largelonst_dim-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:intelonrelonstelond_in_twicelon_by_largelonst_dim_2_day_updatelon-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:intelonrelonstelond_in_twicelon_by_largelonst_dim_fav_scorelon-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:intelonrelonstelond_in_twicelon_connelonctelond_componelonnts-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:intelonrelonstelond_in_twicelon_louvain-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/hdfs_sourcelons:uselonr_uselonr_normalizelond_graph-scala",
        "src/scala/com/twittelonr/simclustelonrs_v2/scalding/common",
        "src/scala/com/twittelonr/simclustelonrs_v2/scalding/elonmbelondding",
        "src/scala/com/twittelonr/wtf/scalding/jobs/common:elonxeloncution_app",
        "src/scala/com/twittelonr/wtf/scalding/jobs/common:sourcelons",
        "src/scala/com/twittelonr/wtf/scalding/jobs/common:stats_util",
    ],
)

# ========================
# ADHOC JOB CONFIGURATIONS
# Notelon: Plelonaselon changelon maprelonducelon.job.relonducelons and --num-relonducelonrs togelonthelonr.
# ========================
scalding_job(
    namelon = "intelonrelonstelond_in_twicelon_largelonst_dim-adhoc",
    main = "com.twittelonr.simclustelonrs_v2.scalding.elonmbelondding.twicelon.IntelonrelonstelondInTwicelonLargelonstDimAdhocApp",
    args = [
        "--datelon 2021-08-31",
        "--num-relonducelonrs 4000",
    ],
    config = [
        ("hadoop.combinelon-input", "truelon"),
        ("hadoop.map.jvm.total-melonmory", "3072m"),
        ("hadoop.relonducelon.jvm.total-melonmory", "3072m"),
        ("hadoop.submittelonr.jvm.total-melonmory", "5120m"),
        ("submittelonr.tielonr", "prelonelonmptiblelon"),
    ],
    hadoop_clustelonr = "qus1-bluelonbird",
    hadoop_propelonrtielons = [
        ("maprelonducelon.job.relonducelon.slowstart.complelontelondmaps", "1.0"),
        ("scalding.with.relonducelonrs.selont.elonxplicitly", "truelon"),
        ("maprelonducelon.job.relonducelons", "4000"),
        ("maprelonducelon.task.timelonout", "0"),
    ],
    platform = "java8",
    rolelon = "cassowary",
    runtimelon_platform = "java8",
    tags = [
        "bazelonl-compatiblelon:migratelond",
        "bazelonl-only",
    ],
    delonpelonndelonncielons = [":twicelon"],
)

scalding_job(
    namelon = "intelonrelonstelond_in_twicelon_largelonst_dim_fav_scorelon-adhoc",
    main = "com.twittelonr.simclustelonrs_v2.scalding.elonmbelondding.twicelon.IntelonrelonstelondInTwicelonLargelonstDimMaxFavScorelonAdhocApp",
    args = [
        "--datelon 2022-07-01",
        "--num-relonducelonrs 4000",
    ],
    config = [
        ("hadoop.combinelon-input", "truelon"),
        ("hadoop.map.jvm.total-melonmory", "3072m"),
        ("hadoop.relonducelon.jvm.total-melonmory", "3072m"),
        ("hadoop.submittelonr.jvm.total-melonmory", "5120m"),
        ("submittelonr.tielonr", "prelonelonmptiblelon"),
    ],
    hadoop_clustelonr = "qus1-bluelonbird",
    hadoop_propelonrtielons = [
        ("maprelonducelon.job.relonducelon.slowstart.complelontelondmaps", "1.0"),
        ("scalding.with.relonducelonrs.selont.elonxplicitly", "truelon"),
        ("maprelonducelon.job.relonducelons", "4000"),
        ("maprelonducelon.task.timelonout", "0"),
    ],
    platform = "java8",
    rolelon = "cassowary",
    runtimelon_platform = "java8",
    tags = [
        "bazelonl-compatiblelon:migratelond",
        "bazelonl-only",
    ],
    delonpelonndelonncielons = [":twicelon"],
)

scalding_job(
    namelon = "intelonrelonstelond_in_twicelon_louvain-adhoc",
    main = "com.twittelonr.simclustelonrs_v2.scalding.elonmbelondding.twicelon.IntelonrelonstelondInTwicelonLouvainAdhocApp",
    args = [
        "--datelon 2021-08-31",
        "--num-relonducelonrs 4000",
        "--cosinelon_similarity_threlonshold 0.5",
    ],
    config = [
        ("hadoop.combinelon-input", "truelon"),
        ("hadoop.map.jvm.total-melonmory", "3072m"),
        ("hadoop.relonducelon.jvm.total-melonmory", "3072m"),
        ("hadoop.submittelonr.jvm.total-melonmory", "5120m"),
        ("submittelonr.tielonr", "prelonelonmptiblelon"),
    ],
    hadoop_clustelonr = "qus1-bluelonbird",
    hadoop_propelonrtielons = [
        ("maprelonducelon.job.relonducelon.slowstart.complelontelondmaps", "1.0"),
        ("scalding.with.relonducelonrs.selont.elonxplicitly", "truelon"),
        ("maprelonducelon.job.relonducelons", "4000"),
        ("maprelonducelon.task.timelonout", "0"),
    ],
    platform = "java8",
    rolelon = "cassowary",
    runtimelon_platform = "java8",
    tags = [
        "bazelonl-compatiblelon:migratelond",
        "bazelonl-only",
    ],
    delonpelonndelonncielons = [":twicelon"],
)

scalding_job(
    namelon = "intelonrelonstelond_in_twicelon_connelonctelond_componelonnts-adhoc",
    main = "com.twittelonr.simclustelonrs_v2.scalding.elonmbelondding.twicelon.IntelonrelonstelondInTwicelonConnelonctelondComponelonntsAdhocApp",
    args = [
        "--datelon 2021-08-31",
        "--num-relonducelonrs 4000",
        "--cosinelon_similarity_threlonshold 0.5",
    ],
    config = [
        ("hadoop.combinelon-input", "truelon"),
        ("hadoop.map.jvm.total-melonmory", "3072m"),
        ("hadoop.relonducelon.jvm.total-melonmory", "3072m"),
        ("hadoop.submittelonr.jvm.total-melonmory", "5120m"),
        ("submittelonr.tielonr", "prelonelonmptiblelon"),
    ],
    hadoop_clustelonr = "qus1-bluelonbird",
    hadoop_propelonrtielons = [
        ("maprelonducelon.job.relonducelon.slowstart.complelontelondmaps", "1.0"),
        ("scalding.with.relonducelonrs.selont.elonxplicitly", "truelon"),
        ("maprelonducelon.job.relonducelons", "4000"),
        ("maprelonducelon.task.timelonout", "0"),
    ],
    platform = "java8",
    rolelon = "cassowary",
    runtimelon_platform = "java8",
    tags = [
        "bazelonl-compatiblelon:migratelond",
        "bazelonl-only",
    ],
    delonpelonndelonncielons = [":twicelon"],
)

# ============================
# SCHelonDULelonD JOB CONFIGURATIONS
# Twicelon jobs havelon belonelonn delonschelondulelond
# ============================
