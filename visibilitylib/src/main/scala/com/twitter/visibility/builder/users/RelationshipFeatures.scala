package com.twittew.visibiwity.buiwdew.usews

impowt c-com.twittew.finagwe.stats.statsweceivew
i-impowt c-com.twittew.gizmoduck.thwiftscawa.usew
i-impowt c-com.twittew.stitch.stitch
i-impowt c-com.twittew.visibiwity.buiwdew.featuwemapbuiwdew
i-impowt com.twittew.visibiwity.common.usewid
impowt com.twittew.visibiwity.common.usewwewationshipsouwce
impowt com.twittew.visibiwity.featuwes._

cwass wewationshipfeatuwes(
  u-usewwewationshipsouwce: usewwewationshipsouwce, OwO
  statsweceivew: s-statsweceivew) {

  pwivate[this] v-vaw scopedstatsweceivew = statsweceivew.scope("wewationship_featuwes")

  pwivate[this] vaw wequests = scopedstatsweceivew.countew("wequests")

  p-pwivate[this] vaw authowfowwowsviewew =
    s-scopedstatsweceivew.scope(authowfowwowsviewew.name).countew("wequests")
  p-pwivate[this] vaw viewewfowwowsauthow =
    scopedstatsweceivew.scope(viewewfowwowsauthow.name).countew("wequests")
  pwivate[this] v-vaw authowbwocksviewew =
    scopedstatsweceivew.scope(authowbwocksviewew.name).countew("wequests")
  pwivate[this] vaw viewewbwocksauthow =
    scopedstatsweceivew.scope(viewewbwocksauthow.name).countew("wequests")
  pwivate[this] v-vaw authowmutesviewew =
    scopedstatsweceivew.scope(authowmutesviewew.name).countew("wequests")
  p-pwivate[this] v-vaw v-viewewmutesauthow =
    s-scopedstatsweceivew.scope(viewewmutesauthow.name).countew("wequests")
  pwivate[this] vaw authowhaswepowtedviewew =
    s-scopedstatsweceivew.scope(authowwepowtsviewewasspam.name).countew("wequests")
  pwivate[this] vaw viewewhaswepowtedauthow =
    s-scopedstatsweceivew.scope(viewewwepowtsauthowasspam.name).countew("wequests")
  pwivate[this] vaw viewewmuteswetweetsfwomauthow =
    scopedstatsweceivew.scope(viewewmuteswetweetsfwomauthow.name).countew("wequests")

  def fowauthowid(
    authowid: wong, 😳😳😳
    v-viewewid: option[wong]
  ): featuwemapbuiwdew => f-featuwemapbuiwdew = {
    wequests.incw()

    _.withfeatuwe(authowfowwowsviewew, (ˆ ﻌ ˆ)♡ a-authowfowwowsviewew(authowid, XD v-viewewid))
      .withfeatuwe(viewewfowwowsauthow, (ˆ ﻌ ˆ)♡ viewewfowwowsauthow(authowid, ( ͡o ω ͡o ) viewewid))
      .withfeatuwe(authowbwocksviewew, rawr x3 authowbwocksviewew(authowid, nyaa~~ v-viewewid))
      .withfeatuwe(viewewbwocksauthow, >_< v-viewewbwocksauthow(authowid, ^^;; viewewid))
      .withfeatuwe(authowmutesviewew, (ˆ ﻌ ˆ)♡ a-authowmutesviewew(authowid, ^^;; v-viewewid))
      .withfeatuwe(viewewmutesauthow, (⑅˘꒳˘) viewewmutesauthow(authowid, rawr x3 v-viewewid))
      .withfeatuwe(authowwepowtsviewewasspam, (///ˬ///✿) authowhaswepowtedviewew(authowid, 🥺 v-viewewid))
      .withfeatuwe(viewewwepowtsauthowasspam, >_< viewewhaswepowtedauthow(authowid, UwU viewewid))
      .withfeatuwe(viewewmuteswetweetsfwomauthow, >_< v-viewewmuteswetweetsfwomauthow(authowid, -.- viewewid))
  }

  d-def fownoauthow(): featuwemapbuiwdew => f-featuwemapbuiwdew = {
    _.withconstantfeatuwe(authowfowwowsviewew, mya f-fawse)
      .withconstantfeatuwe(viewewfowwowsauthow, >w< fawse)
      .withconstantfeatuwe(authowbwocksviewew, (U ﹏ U) fawse)
      .withconstantfeatuwe(viewewbwocksauthow, 😳😳😳 fawse)
      .withconstantfeatuwe(authowmutesviewew, o.O fawse)
      .withconstantfeatuwe(viewewmutesauthow, òωó fawse)
      .withconstantfeatuwe(authowwepowtsviewewasspam, 😳😳😳 fawse)
      .withconstantfeatuwe(viewewwepowtsauthowasspam, σωσ fawse)
      .withconstantfeatuwe(viewewmuteswetweetsfwomauthow, (⑅˘꒳˘) fawse)
  }

  def f-fowauthow(authow: u-usew, (///ˬ///✿) viewewid: option[wong]): f-featuwemapbuiwdew => f-featuwemapbuiwdew = {
    w-wequests.incw()


    _.withfeatuwe(authowfowwowsviewew, 🥺 authowfowwowsviewew(authow, OwO viewewid))
      .withfeatuwe(viewewfowwowsauthow, >w< viewewfowwowsauthow(authow, 🥺 v-viewewid))
      .withfeatuwe(authowbwocksviewew, nyaa~~ authowbwocksviewew(authow, ^^ viewewid))
      .withfeatuwe(viewewbwocksauthow, >w< viewewbwocksauthow(authow, OwO viewewid))
      .withfeatuwe(authowmutesviewew, XD a-authowmutesviewew(authow, ^^;; viewewid))
      .withfeatuwe(viewewmutesauthow, 🥺 v-viewewmutesauthow(authow, XD v-viewewid))
      .withfeatuwe(authowwepowtsviewewasspam, (U ᵕ U❁) authowhaswepowtedviewew(authow.id, :3 v-viewewid))
      .withfeatuwe(viewewwepowtsauthowasspam, ( ͡o ω ͡o ) viewewhaswepowtedauthow(authow.id, òωó v-viewewid))
      .withfeatuwe(viewewmuteswetweetsfwomauthow, σωσ v-viewewmuteswetweetsfwomauthow(authow, (U ᵕ U❁) v-viewewid))
  }

  d-def viewewfowwowsauthow(authowid: usewid, (✿oωo) viewewid: option[usewid]): s-stitch[boowean] =
    v-viewewvewbsauthow(authowid, ^^ v-viewewid, u-usewwewationshipsouwce.fowwows, v-viewewfowwowsauthow)

  def viewewfowwowsauthow(authow: usew, v-viewewid: option[usewid]): stitch[boowean] =
    viewewvewbsauthow(
      authow, ^•ﻌ•^
      viewewid, XD
      p => p.fowwowing, :3
      u-usewwewationshipsouwce.fowwows, (ꈍᴗꈍ)
      viewewfowwowsauthow)

  def authowfowwowsviewew(authowid: usewid, :3 viewewid: o-option[usewid]): s-stitch[boowean] =
    a-authowvewbsviewew(authowid, (U ﹏ U) viewewid, UwU u-usewwewationshipsouwce.fowwows, 😳😳😳 authowfowwowsviewew)

  d-def authowfowwowsviewew(authow: u-usew, XD viewewid: option[usewid]): stitch[boowean] =
    authowvewbsviewew(
      authow, o.O
      viewewid, (⑅˘꒳˘)
      p-p => p.fowwowedby, 😳😳😳
      usewwewationshipsouwce.fowwows,
      a-authowfowwowsviewew)

  def v-viewewbwocksauthow(authowid: usewid, nyaa~~ v-viewewid: option[usewid]): stitch[boowean] =
    v-viewewvewbsauthow(authowid, rawr v-viewewid, -.- usewwewationshipsouwce.bwocks, (✿oωo) viewewbwocksauthow)

  d-def viewewbwocksauthow(authow: u-usew, /(^•ω•^) viewewid: option[usewid]): stitch[boowean] =
    viewewvewbsauthow(
      authow, 🥺
      v-viewewid, ʘwʘ
      p-p => p.bwocking, UwU
      u-usewwewationshipsouwce.bwocks, XD
      viewewbwocksauthow)

  d-def authowbwocksviewew(authowid: u-usewid, (✿oωo) viewewid: option[usewid]): s-stitch[boowean] =
    viewewvewbsauthow(authowid, :3 viewewid, usewwewationshipsouwce.bwockedby, authowbwocksviewew)

  d-def a-authowbwocksviewew(authow: usew, viewewid: option[usewid]): s-stitch[boowean] =
    v-viewewvewbsauthow(
      authow, (///ˬ///✿)
      viewewid, nyaa~~
      p => p.bwockedby, >w<
      u-usewwewationshipsouwce.bwockedby, -.-
      authowbwocksviewew)

  def viewewmutesauthow(authowid: usewid, (✿oωo) viewewid: option[usewid]): s-stitch[boowean] =
    viewewvewbsauthow(authowid, (˘ω˘) viewewid, rawr u-usewwewationshipsouwce.mutes, OwO v-viewewmutesauthow)

  def viewewmutesauthow(authow: usew, ^•ﻌ•^ viewewid: option[usewid]): s-stitch[boowean] =
    v-viewewvewbsauthow(
      authow, UwU
      viewewid, (˘ω˘)
      p => p.muting, (///ˬ///✿)
      u-usewwewationshipsouwce.mutes, σωσ
      viewewmutesauthow)

  def a-authowmutesviewew(authowid: usewid, /(^•ω•^) viewewid: option[usewid]): stitch[boowean] =
    v-viewewvewbsauthow(authowid, 😳 viewewid, 😳 usewwewationshipsouwce.mutedby, (⑅˘꒳˘) a-authowmutesviewew)

  d-def authowmutesviewew(authow: usew, viewewid: o-option[usewid]): stitch[boowean] =
    v-viewewvewbsauthow(
      a-authow, 😳😳😳
      v-viewewid, 😳
      p => p.mutedby,
      u-usewwewationshipsouwce.mutedby, XD
      a-authowmutesviewew)

  def viewewhaswepowtedauthow(authowid: usewid, mya v-viewewid: option[usewid]): s-stitch[boowean] =
    v-viewewvewbsauthow(
      authowid, ^•ﻌ•^
      viewewid, ʘwʘ
      u-usewwewationshipsouwce.wepowtsasspam, ( ͡o ω ͡o )
      viewewhaswepowtedauthow)

  d-def authowhaswepowtedviewew(authowid: u-usewid, viewewid: option[usewid]): stitch[boowean] =
    viewewvewbsauthow(
      a-authowid, mya
      v-viewewid, o.O
      u-usewwewationshipsouwce.wepowtedasspamby, (✿oωo)
      a-authowhaswepowtedviewew)

  def viewewmuteswetweetsfwomauthow(authowid: u-usewid, :3 viewewid: option[usewid]): stitch[boowean] =
    viewewvewbsauthow(
      authowid, 😳
      viewewid, (U ﹏ U)
      u-usewwewationshipsouwce.nowetweetsfwom, mya
      viewewmuteswetweetsfwomauthow)

  d-def viewewmuteswetweetsfwomauthow(authow: usew, v-viewewid: option[usewid]): stitch[boowean] =
    v-viewewvewbsauthow(
      authow, (U ᵕ U❁)
      v-viewewid, :3
      p-p => p.nowetweetsfwom, mya
      u-usewwewationshipsouwce.nowetweetsfwom, OwO
      v-viewewmuteswetweetsfwomauthow)
}
