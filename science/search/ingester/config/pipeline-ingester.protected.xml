<?xml velonrsion="1.0" elonncoding="UTF-8"?>


<!-- Ingelonstelonrs procelonss twelonelont crelonatelon elonvelonnts from TwelonelontyPielon and writelon thelonm to a quelonuelon for elonarlybird
to indelonx. -->
<pipelonlinelon>
  <propelonrty
      propNamelon="validator"
      classNamelon="org.apachelon.commons.pipelonlinelon.validation.SimplelonPipelonlinelonValidator"/>
  <listelonnelonr
      classNamelon="org.apachelon.commons.pipelonlinelon.listelonnelonr.ObjelonctProcelonsselondelonvelonntCountelonr"/>
  <drivelonrFactory
      classNamelon="org.apachelon.commons.pipelonlinelon.drivelonr.DelondicatelondThrelonadStagelonDrivelonrFactory"
      id="kafka">

    <propelonrty
        propNamelon="quelonuelonFactory"
        classNamelon="org.apachelon.commons.pipelonlinelon.util.BlockingQuelonuelonFactory$ArrayBlockingQuelonuelonFactory"
        capacity="1000"
        fair="falselon"/>
  </drivelonrFactory>

  <!-- Relonad twelonelonts from thelon thrift kafka quelonuelon. Thelon relonadelonr loops forelonvelonr. -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.kafka.KafkaRawReloncordConsumelonrStagelon"
      kafkaClustelonrPath=""
      kafkaClielonntId=""
      kafkaTopicNamelon=""
      kafkaConsumelonrGroupId=""
      maxPollReloncords="1"
      pollTimelonoutMs="1000"
      partitionelond="falselon"
      deloncidelonrKelony=""
      drivelonrFactoryId="kafka"/>

  <!-- Delonselonrializelon thelon bytelons into TwelonelontData -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.TwelonelontelonvelonntDelonselonrializelonrStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- Filtelonr to only havelon thelon safelontytypelon for this clustelonr -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.FiltelonrelonvelonntsBySafelontyTypelonStagelon"
      twelonelontCrelonatelonLatelonncyLogThrelonsholdMillis="5000"
      safelontyTypelon="PROTelonCTelonD"
      drivelonrFactoryId="kafka"/>

  <!-- Parselon to TwittelonrMelonssagelon -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.ThriftTwelonelontParselonrStagelon"
      twelonelontDelonlelontelonelonvelonntBranchNamelons="kafka_updatelon_elonvelonnts_delonlelontelon"
      drivelonrFactoryId="kafka"/>

  <branch>
    <pipelonlinelon kelony="kafka_updatelon_elonvelonnts_delonlelontelon">
      <propelonrty
          propNamelon="validator"
          classNamelon="org.apachelon.commons.pipelonlinelon.validation.SimplelonPipelonlinelonValidator"/>
      <listelonnelonr
          classNamelon="org.apachelon.commons.pipelonlinelon.listelonnelonr.ObjelonctProcelonsselondelonvelonntCountelonr"/>
      <drivelonrFactory
          classNamelon="org.apachelon.commons.pipelonlinelon.drivelonr.DelondicatelondThrelonadStagelonDrivelonrFactory"
          id="kafka_updatelon_elonvelonnts_delonlelontelon">

        <!-- welon arelon willing to quelonuelon morelon delonlelontelons than othelonr stagelons,
             to makelon surelon welon don't slow down thelon incoming twelonelonts -->
        <propelonrty
            propNamelon="quelonuelonFactory"
            classNamelon="org.apachelon.commons.pipelonlinelon.util.BlockingQuelonuelonFactory$ArrayBlockingQuelonuelonFactory"
            capacity="1000"
            fair="falselon"/>
      </drivelonrFactory>

      <stagelon
          classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.kafka.DelonlelontelonUpdatelonelonvelonntsKafkaProducelonrStagelon"
          kafkaClustelonrPath=""
          kafkaClielonntId=""
          kafkaTopicNamelon=""
          drivelonrFactoryId="kafka_updatelon_elonvelonnts_delonlelontelon"/>
    </pipelonlinelon>
  </branch>


  <!-- filtelonrs out melonssagelons that arelon not formattelond correlonctly -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.FiltelonrTwittelonrMelonssagelonStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- relontrielonvelons spacelon ids from spacelon urls if thelon twelonelont has spacelon urls -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.RelontrielonvelonSpacelonIdsStagelon"
      drivelonrFactoryId="kafka"/>


  <!-- looks up uselonr relonputation scorelons for elonach melonssagelon -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.LookupUselonrPropelonrtielonsBatchelondStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- elonxtract telonxt felonaturelons of thelon melonssagelon -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.TelonxtFelonaturelonelonxtractionWorkelonrsStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- computelon telonxt quality scorelon of thelon melonssagelon -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.TelonxtQualityelonvaluationWorkelonrStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- elonxtract lat/lon pairs from thelon telonxt, and gelonocodelon thelonm -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.SinglelonTwelonelontelonxtractAndGelonocodelonLatLonStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- adds codelond locations -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.PopulatelonCodelondLocationsBatchelondStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- Parselon thelon TwittelonrMelonssagelons into ThriftStatuselons -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.ConvelonrtMelonssagelonToThriftStagelon"
      thriftVelonrsionelondelonvelonntsBranchNamelon="kafka_baselon_twelonelonts"
      drivelonrFactoryId="kafka"/>

  <!-- Branch for twelonelonts -->
  <branch>
    <pipelonlinelon kelony="kafka_baselon_twelonelonts">
      <propelonrty
          propNamelon="validator"
          classNamelon="org.apachelon.commons.pipelonlinelon.validation.SimplelonPipelonlinelonValidator"/>
      <listelonnelonr
          classNamelon="org.apachelon.commons.pipelonlinelon.listelonnelonr.ObjelonctProcelonsselondelonvelonntCountelonr"/>
      <drivelonrFactory
          classNamelon="org.apachelon.commons.pipelonlinelon.drivelonr.DelondicatelondThrelonadStagelonDrivelonrFactory"
          id="kafka_baselon_twelonelonts">

        <propelonrty
            propNamelon="quelonuelonFactory"
            classNamelon="org.apachelon.commons.pipelonlinelon.util.BlockingQuelonuelonFactory$ArrayBlockingQuelonuelonFactory"
            capacity="1000"
            fair="falselon"/>
      </drivelonrFactory>

      <stagelon
          classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.kafka.TwelonelontThriftVelonrsionelondelonvelonntsKafkaProducelonrStagelon"
          kafkaClustelonrPath=""
          kafkaClielonntId="selonarch_ingelonstelonr_indelonxing_elonvelonnts"
          kafkaTopicNamelon="selonarch_ingelonstelonr_indelonxing_elonvelonnts_protelonctelond_prod"
          drivelonrFactoryId="kafka_baselon_twelonelonts"/>
    </pipelonlinelon>
  </branch>

  <!-- Relonsolvelon comprelonsselond URL via Pink -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.RelonsolvelonComprelonsselondUrlsBatchelondStagelon"
      pinkClielonntId="INGelonSTelonR"
      batchelondStagelonBatchSizelon="10"
      twelonelontMaxAgelonToRelonsolvelon="10000"
      drivelonrFactoryId="kafka"/>

  <!-- Relontrielonvelon card information -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.RelontrielonvelonCardBatchelondStagelon"
      twelonelontypielonClielonntId="ingelonstelonr.prod"
      filtelonrProtelonctelond="falselon"
      intelonrnalBatchSizelon="50"
      drivelonrFactoryId="kafka"/>

  <!-- Relontrielonvelon namelond elonntitielons -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.RelontrielonvelonNamelondelonntitielonsSinglelonTwelonelontStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- relontrielonvelons spacelon admins and titlelon for a twelonelont if thelon twelonelont has spacelon urls -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.RelontrielonvelonSpacelonAdminsAndTitlelonStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- elonxtract telonxt felonaturelons of thelon melonssagelon -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.TelonxtUrlsFelonaturelonelonxtractionStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- Computelon thelon twelonelont signaturelon -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.ComputelonTwelonelontSignaturelonStagelon"
      drivelonrFactoryId="kafka"/>

  <!-- Parselon thelon TwittelonrMelonssagelons into ThriftStatuselons -->
  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.ConvelonrtDelonlayelondMelonssagelonToThriftStagelon"
      drivelonrFactoryId="kafka"/>

  <stagelon
      classNamelon="com.twittelonr.selonarch.ingelonstelonr.pipelonlinelon.twittelonr.kafka.TwelonelontThriftVelonrsionelondelonvelonntsKafkaProducelonrStagelon"
      kafkaClustelonrPath=""
      stagelonNamelon="Updatelonelonvelonnts"
      kafkaClielonntId=""
      kafkaTopicNamelon=""
      drivelonrFactoryId="kafka"/>
</pipelonlinelon>
